<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title> 4 Analysis of Variance | Intro Regression</title>
  <meta name="description" content="An electronic book with assignments and in-class activities to help students apply concepts in an intermediate-level regression analysis course. The primary focus of this text is application and computing; there are also supplemental math notes for some topics.">
  <meta name="generator" content="bookdown  and GitBook 2.6.7">

  <meta property="og:title" content=" 4 Analysis of Variance | Intro Regression" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://www.introregression.org/" />
  <meta property="og:image" content="https://www.introregression.org/img/introregression-sticker.png" />
  <meta property="og:description" content="An electronic book with assignments and in-class activities to help students apply concepts in an intermediate-level regression analysis course. The primary focus of this text is application and computing; there are also supplemental math notes for some topics." />
  <meta name="github-repo" content="matackett/intro-regression" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content=" 4 Analysis of Variance | Intro Regression" />
  
  <meta name="twitter:description" content="An electronic book with assignments and in-class activities to help students apply concepts in an intermediate-level regression analysis course. The primary focus of this text is application and computing; there are also supplemental math notes for some topics." />
  <meta name="twitter:image" content="https://www.introregression.org/img/introregression-sticker.png" />

<meta name="author" content="Maria Tackett">



  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <link rel="apple-touch-icon-precomposed" sizes="152x152" href="img/introregression-sticker.png">
  <link rel="shortcut icon" href="img/introregression-sticker.png" type="image/x-icon">
<link rel="prev" href="3-slr.html">
<link rel="next" href="5-mlr.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Intro Regression</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome to Intro Regression!</a></li>
<li class="chapter" data-level="1" data-path="1-getstarted.html"><a href="1-getstarted.html"><i class="fa fa-check"></i><b>1</b> Getting Started</a><ul>
<li class="chapter" data-level="1.1" data-path="1-getstarted.html"><a href="1-getstarted.html#how-to-use-this-book"><i class="fa fa-check"></i><b>1.1</b> How to use this book</a></li>
<li class="chapter" data-level="1.2" data-path="1-getstarted.html"><a href="1-getstarted.html#intro-statistics-review"><i class="fa fa-check"></i><b>1.2</b> Intro Statistics Review</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="2-instr.html"><a href="2-instr.html"><i class="fa fa-check"></i><b>2</b> Notes for Instructors</a><ul>
<li class="chapter" data-level="2.1" data-path="2-instr.html"><a href="2-instr.html#setting-up-your-course"><i class="fa fa-check"></i><b>2.1</b> Setting up your course</a><ul>
<li class="chapter" data-level="2.1.1" data-path="2-instr.html"><a href="2-instr.html#github"><i class="fa fa-check"></i><b>2.1.1</b> GitHub</a></li>
<li class="chapter" data-level="2.1.2" data-path="2-instr.html"><a href="2-instr.html#rstudio-cloud"><i class="fa fa-check"></i><b>2.1.2</b> RStudio Cloud</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="2-instr.html"><a href="2-instr.html#making-assignments"><i class="fa fa-check"></i><b>2.2</b> Making Assignments</a><ul>
<li class="chapter" data-level="2.2.1" data-path="2-instr.html"><a href="2-instr.html#github-1"><i class="fa fa-check"></i><b>2.2.1</b> GitHub</a></li>
<li class="chapter" data-level="2.2.2" data-path="2-instr.html"><a href="2-instr.html#rstudio-cloud-1"><i class="fa fa-check"></i><b>2.2.2</b> RStudio Cloud</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="2-instr.html"><a href="2-instr.html#additional-resources"><i class="fa fa-check"></i><b>2.3</b> Additional Resources</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="3-slr.html"><a href="3-slr.html"><i class="fa fa-check"></i><b>3</b> Simple Linear Regression</a><ul>
<li class="chapter" data-level="3.1" data-path="3-slr.html"><a href="3-slr.html#comp-college-admissions"><i class="fa fa-check"></i><b>3.1</b> COMP: College Admissions</a><ul>
<li class="chapter" data-level="3.1.1" data-path="3-slr.html"><a href="3-slr.html#packages"><i class="fa fa-check"></i><b>3.1.1</b> Packages</a></li>
<li class="chapter" data-level="3.1.2" data-path="3-slr.html"><a href="3-slr.html#data"><i class="fa fa-check"></i><b>3.1.2</b> Data</a></li>
<li class="chapter" data-level="3.1.3" data-path="3-slr.html"><a href="3-slr.html#exercises"><i class="fa fa-check"></i><b>3.1.3</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="3-slr.html"><a href="3-slr.html#in-class-advertising-sales"><i class="fa fa-check"></i><b>3.2</b> IN-CLASS: Advertising &amp; Sales</a><ul>
<li class="chapter" data-level="3.2.1" data-path="3-slr.html"><a href="3-slr.html#data-and-packages"><i class="fa fa-check"></i><b>3.2.1</b> Data and packages</a></li>
<li class="chapter" data-level="3.2.2" data-path="3-slr.html"><a href="3-slr.html#analysis"><i class="fa fa-check"></i><b>3.2.2</b> Analysis</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="3-slr.html"><a href="3-slr.html#in-class-carbohydrates-in-beer"><i class="fa fa-check"></i><b>3.3</b> IN-CLASS: Carbohydrates in Beer</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="4-anova.html"><a href="4-anova.html"><i class="fa fa-check"></i><b>4</b> Analysis of Variance</a><ul>
<li class="chapter" data-level="4.1" data-path="4-anova.html"><a href="4-anova.html#comp-diamonds"><i class="fa fa-check"></i><b>4.1</b> COMP: Diamonds</a><ul>
<li class="chapter" data-level="4.1.1" data-path="4-anova.html"><a href="4-anova.html#packages-1"><i class="fa fa-check"></i><b>4.1.1</b> Packages</a></li>
<li class="chapter" data-level="4.1.2" data-path="4-anova.html"><a href="4-anova.html#data-1"><i class="fa fa-check"></i><b>4.1.2</b> Data</a></li>
<li class="chapter" data-level="4.1.3" data-path="4-anova.html"><a href="4-anova.html#exercises-1"><i class="fa fa-check"></i><b>4.1.3</b> Exercises</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="5-mlr.html"><a href="5-mlr.html"><i class="fa fa-check"></i><b>5</b> Multiple Linear Regression</a><ul>
<li class="chapter" data-level="5.1" data-path="5-mlr.html"><a href="5-mlr.html#comp-houses-in-king-county"><i class="fa fa-check"></i><b>5.1</b> COMP: Houses in King County</a><ul>
<li class="chapter" data-level="5.1.1" data-path="5-mlr.html"><a href="5-mlr.html#packages-2"><i class="fa fa-check"></i><b>5.1.1</b> Packages</a></li>
<li class="chapter" data-level="5.1.2" data-path="5-mlr.html"><a href="5-mlr.html#data-2"><i class="fa fa-check"></i><b>5.1.2</b> Data</a></li>
<li class="chapter" data-level="5.1.3" data-path="5-mlr.html"><a href="5-mlr.html#exercises-2"><i class="fa fa-check"></i><b>5.1.3</b> Exercises</a></li>
<li class="chapter" data-level="5.1.4" data-path="5-mlr.html"><a href="5-mlr.html#acknowledgement"><i class="fa fa-check"></i><b>5.1.4</b> Acknowledgement</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="5-mlr.html"><a href="5-mlr.html#comp-airbnb-in-asheville-nc"><i class="fa fa-check"></i><b>5.2</b> COMP: Airbnb in Asheville, NC</a><ul>
<li class="chapter" data-level="5.2.1" data-path="5-mlr.html"><a href="5-mlr.html#packages-3"><i class="fa fa-check"></i><b>5.2.1</b> Packages</a></li>
<li class="chapter" data-level="5.2.2" data-path="5-mlr.html"><a href="5-mlr.html#data-3"><i class="fa fa-check"></i><b>5.2.2</b> Data</a></li>
<li class="chapter" data-level="5.2.3" data-path="5-mlr.html"><a href="5-mlr.html#exercises-3"><i class="fa fa-check"></i><b>5.2.3</b> Exercises</a></li>
<li class="chapter" data-level="5.2.4" data-path="5-mlr.html"><a href="5-mlr.html#acknowledgement-1"><i class="fa fa-check"></i><b>5.2.4</b> Acknowledgement</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="5-mlr.html"><a href="5-mlr.html#in-class-wages"><i class="fa fa-check"></i><b>5.3</b> IN-CLASS: Wages</a><ul>
<li class="chapter" data-level="5.3.1" data-path="5-mlr.html"><a href="5-mlr.html#initial-model"><i class="fa fa-check"></i><b>5.3.1</b> Initial model</a></li>
<li class="chapter" data-level="5.3.2" data-path="5-mlr.html"><a href="5-mlr.html#model-with-mean-centered-variables"><i class="fa fa-check"></i><b>5.3.2</b> Model with mean-centered variables</a></li>
<li class="chapter" data-level="5.3.3" data-path="5-mlr.html"><a href="5-mlr.html#model-with-indicator-variables"><i class="fa fa-check"></i><b>5.3.3</b> Model with indicator variables</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="5-mlr.html"><a href="5-mlr.html#notes-matrix-form-of-linear-regression"><i class="fa fa-check"></i><b>5.4</b> NOTES: Matrix Form of Linear Regression</a><ul>
<li class="chapter" data-level="5.4.1" data-path="5-mlr.html"><a href="5-mlr.html#introduction"><i class="fa fa-check"></i><b>5.4.1</b> Introduction</a></li>
<li class="chapter" data-level="5.4.2" data-path="5-mlr.html"><a href="5-mlr.html#matrix-form-for-the-regression-model"><i class="fa fa-check"></i><b>5.4.2</b> Matrix Form for the Regression Model</a></li>
<li class="chapter" data-level="5.4.3" data-path="5-mlr.html"><a href="5-mlr.html#estimating-the-coefficients"><i class="fa fa-check"></i><b>5.4.3</b> Estimating the Coefficients</a></li>
<li class="chapter" data-level="5.4.4" data-path="5-mlr.html"><a href="5-mlr.html#variance-covariance-matrix-of-the-coefficients"><i class="fa fa-check"></i><b>5.4.4</b> Variance-covariance matrix of the coefficients</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="5-mlr.html"><a href="5-mlr.html#notes-log-transformations"><i class="fa fa-check"></i><b>5.5</b> NOTES: Log Transformations</a><ul>
<li class="chapter" data-level="5.5.1" data-path="5-mlr.html"><a href="5-mlr.html#log-transformation-on-the-response-variable"><i class="fa fa-check"></i><b>5.5.1</b> Log-transformation on the response variable</a></li>
<li class="chapter" data-level="5.5.2" data-path="5-mlr.html"><a href="5-mlr.html#log-transformation-on-the-predictor-variable"><i class="fa fa-check"></i><b>5.5.2</b> Log-transformation on the predictor variable</a></li>
<li class="chapter" data-level="5.5.3" data-path="5-mlr.html"><a href="5-mlr.html#log-transformation-on-the-the-response-and-predictor-variable"><i class="fa fa-check"></i><b>5.5.3</b> Log-transformation on the the response and predictor variable</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="5-mlr.html"><a href="5-mlr.html#notes-model-diagnostics"><i class="fa fa-check"></i><b>5.6</b> NOTES: Model Diagnostics</a><ul>
<li class="chapter" data-level="5.6.1" data-path="5-mlr.html"><a href="5-mlr.html#introduction-1"><i class="fa fa-check"></i><b>5.6.1</b> Introduction</a></li>
<li class="chapter" data-level="5.6.2" data-path="5-mlr.html"><a href="5-mlr.html#matrix-form-for-the-regression-model-1"><i class="fa fa-check"></i><b>5.6.2</b> Matrix Form for the Regression Model</a></li>
<li class="chapter" data-level="5.6.3" data-path="5-mlr.html"><a href="5-mlr.html#hat-matrix-leverage"><i class="fa fa-check"></i><b>5.6.3</b> Hat Matrix &amp; Leverage</a></li>
<li class="chapter" data-level="5.6.4" data-path="5-mlr.html"><a href="5-mlr.html#standardized-residuals"><i class="fa fa-check"></i><b>5.6.4</b> Standardized Residuals</a></li>
<li class="chapter" data-level="5.6.5" data-path="5-mlr.html"><a href="5-mlr.html#cooks-distance"><i class="fa fa-check"></i><b>5.6.5</b> Cook’s Distance</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="6-select.html"><a href="6-select.html"><i class="fa fa-check"></i><b>6</b> Model Selection</a><ul>
<li class="chapter" data-level="6.1" data-path="6-select.html"><a href="6-select.html#comp-sats-and-mlb"><i class="fa fa-check"></i><b>6.1</b> COMP: SATs and MLB</a><ul>
<li class="chapter" data-level="6.1.1" data-path="6-select.html"><a href="6-select.html#packages-4"><i class="fa fa-check"></i><b>6.1.1</b> Packages</a></li>
<li class="chapter" data-level="6.1.2" data-path="6-select.html"><a href="6-select.html#data-4"><i class="fa fa-check"></i><b>6.1.2</b> Data</a></li>
<li class="chapter" data-level="6.1.3" data-path="6-select.html"><a href="6-select.html#exercises-4"><i class="fa fa-check"></i><b>6.1.3</b> Exercises</a></li>
<li class="chapter" data-level="6.1.4" data-path="6-select.html"><a href="6-select.html#acknowledgements"><i class="fa fa-check"></i><b>6.1.4</b> Acknowledgements</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="6-select.html"><a href="6-select.html#in-class-sats-by-state"><i class="fa fa-check"></i><b>6.2</b> IN-CLASS: SATs by State</a><ul>
<li class="chapter" data-level="6.2.1" data-path="6-select.html"><a href="6-select.html#backward-selection-manually"><i class="fa fa-check"></i><b>6.2.1</b> Backward selection “manually”</a></li>
<li class="chapter" data-level="6.2.2" data-path="6-select.html"><a href="6-select.html#backward-selection-using-regsubsets"><i class="fa fa-check"></i><b>6.2.2</b> Backward selection using regsubsets</a></li>
<li class="chapter" data-level="6.2.3" data-path="6-select.html"><a href="6-select.html#changing-selection-criteria"><i class="fa fa-check"></i><b>6.2.3</b> Changing selection criteria</a></li>
<li class="chapter" data-level="6.2.4" data-path="6-select.html"><a href="6-select.html#different-selection-procedure"><i class="fa fa-check"></i><b>6.2.4</b> Different selection procedure</a></li>
<li class="chapter" data-level="6.2.5" data-path="6-select.html"><a href="6-select.html#choosing-a-final-model"><i class="fa fa-check"></i><b>6.2.5</b> Choosing a final model</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="6-select.html"><a href="6-select.html#notes-model-selection-criteria"><i class="fa fa-check"></i><b>6.3</b> NOTES: Model Selection Criteria</a><ul>
<li class="chapter" data-level="6.3.1" data-path="6-select.html"><a href="6-select.html#maximum-likelihood-estimation-of-boldsymbolbeta-and-sigma"><i class="fa fa-check"></i><b>6.3.1</b> Maximum Likelihood Estimation of <span class="math inline">\(\boldsymbol{\beta}\)</span> and <span class="math inline">\(\sigma\)</span></a></li>
<li class="chapter" data-level="6.3.2" data-path="6-select.html"><a href="6-select.html#aic"><i class="fa fa-check"></i><b>6.3.2</b> AIC</a></li>
<li class="chapter" data-level="6.3.3" data-path="6-select.html"><a href="6-select.html#bic"><i class="fa fa-check"></i><b>6.3.3</b> BIC</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="7-logistic.html"><a href="7-logistic.html"><i class="fa fa-check"></i><b>7</b> Logistic Regression</a><ul>
<li class="chapter" data-level="7.1" data-path="7-logistic.html"><a href="7-logistic.html#comp-spotify"><i class="fa fa-check"></i><b>7.1</b> COMP: Spotify</a><ul>
<li class="chapter" data-level="7.1.1" data-path="7-logistic.html"><a href="7-logistic.html#packages-5"><i class="fa fa-check"></i><b>7.1.1</b> Packages</a></li>
<li class="chapter" data-level="7.1.2" data-path="7-logistic.html"><a href="7-logistic.html#data-5"><i class="fa fa-check"></i><b>7.1.2</b> Data</a></li>
<li class="chapter" data-level="7.1.3" data-path="7-logistic.html"><a href="7-logistic.html#exercises-5"><i class="fa fa-check"></i><b>7.1.3</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="7-logistic.html"><a href="7-logistic.html#in-class-risk-of-heart-disease"><i class="fa fa-check"></i><b>7.2</b> IN-CLASS: Risk of Heart Disease</a><ul>
<li class="chapter" data-level="7.2.1" data-path="7-logistic.html"><a href="7-logistic.html#references"><i class="fa fa-check"></i><b>7.2.1</b> References</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="8-multinom-logistic.html"><a href="8-multinom-logistic.html"><i class="fa fa-check"></i><b>8</b> Multinomial Logistic Regression</a><ul>
<li class="chapter" data-level="8.1" data-path="8-multinom-logistic.html"><a href="8-multinom-logistic.html#comp-general-social-survey"><i class="fa fa-check"></i><b>8.1</b> COMP: General Social Survey</a><ul>
<li class="chapter" data-level="8.1.1" data-path="8-multinom-logistic.html"><a href="8-multinom-logistic.html#packages-6"><i class="fa fa-check"></i><b>8.1.1</b> Packages</a></li>
<li class="chapter" data-level="8.1.2" data-path="8-multinom-logistic.html"><a href="8-multinom-logistic.html#data-6"><i class="fa fa-check"></i><b>8.1.2</b> Data</a></li>
<li class="chapter" data-level="8.1.3" data-path="8-multinom-logistic.html"><a href="8-multinom-logistic.html#exercises-6"><i class="fa fa-check"></i><b>8.1.3</b> Exercises</a></li>
<li class="chapter" data-level="8.1.4" data-path="8-multinom-logistic.html"><a href="8-multinom-logistic.html#acknowledgements-1"><i class="fa fa-check"></i><b>8.1.4</b> Acknowledgements</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="8-multinom-logistic.html"><a href="8-multinom-logistic.html#in-class-sesame-street"><i class="fa fa-check"></i><b>8.2</b> IN-CLASS: Sesame Street</a><ul>
<li class="chapter" data-level="8.2.1" data-path="8-multinom-logistic.html"><a href="8-multinom-logistic.html#questions"><i class="fa fa-check"></i><b>8.2.1</b> Questions</a></li>
<li class="chapter" data-level="8.2.2" data-path="8-multinom-logistic.html"><a href="8-multinom-logistic.html#references-1"><i class="fa fa-check"></i><b>8.2.2</b> References</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="9-special.html"><a href="9-special.html"><i class="fa fa-check"></i><b>9</b> Special Topics</a><ul>
<li class="chapter" data-level="9.1" data-path="9-special.html"><a href="9-special.html#comp-regression-start-to-finish"><i class="fa fa-check"></i><b>9.1</b> COMP: Regression Start to Finish</a><ul>
<li class="chapter" data-level="9.1.1" data-path="9-special.html"><a href="9-special.html#packages-7"><i class="fa fa-check"></i><b>9.1.1</b> Packages</a></li>
<li class="chapter" data-level="9.1.2" data-path="9-special.html"><a href="9-special.html#data-7"><i class="fa fa-check"></i><b>9.1.2</b> Data</a></li>
<li class="chapter" data-level="9.1.3" data-path="9-special.html"><a href="9-special.html#exercises-7"><i class="fa fa-check"></i><b>9.1.3</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="9-special.html"><a href="9-special.html#in-class-missing-data-exercise"><i class="fa fa-check"></i><b>9.2</b> IN-CLASS: Missing Data Exercise</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="10-datasets.html"><a href="10-datasets.html"><i class="fa fa-check"></i><b>10</b> Data Sets</a></li>
<li class="chapter" data-level="" data-path="references-2.html"><a href="references-2.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Intro Regression</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="anova" class="section level1">
<h1><span class="header-section-number"> 4</span> Analysis of Variance</h1>
<div id="comp-diamonds" class="section level2">
<h2><span class="header-section-number">4.1</span> COMP: Diamonds</h2>
<p>The goal of this lab is to use Analysis of Variance (ANOVA) to compare means in multiple groups. Additionally, you will be introduced to new R functions used for <a href="https://en.wikipedia.org/wiki/Data_wrangling">wrangling</a> and summarizing data.</p>
<div id="packages-1" class="section level3">
<h3><span class="header-section-number">4.1.1</span> Packages</h3>
<p>We will use the following packages in today’s lab.</p>
</div>
<div id="data-1" class="section level3">
<h3><span class="header-section-number">4.1.2</span> Data</h3>
<p>In today’s lab, we will analyze the <code>diamonds</code> dataset from the ggplot2 package. Type <code>?diamonds</code> in the console to see a dictionary of the variables in the data set. This analysis will focus on the relationship between a diamond’s carat weight and its color. Before starting the exercises, take a moment to read more about the diamond attributes on the Gemological Institute of America webpage: <a href="https://www.gia.edu/diamond-quality-factor" class="uri">https://www.gia.edu/diamond-quality-factor</a>.</p>
</div>
<div id="exercises-1" class="section level3">
<h3><span class="header-section-number">4.1.3</span> Exercises</h3>
<p>The diamonds dataset contains the price and other characteristics for over 50,000 diamonds price from $326 to $18823. In this lab, we will analyze the subset of diamonds that are priced $1200 or less.</p>
<ol style="list-style-type: decimal">
<li>Create a dataframe called <code>diamonds_low</code> that is the subset of diamonds priced $1200 or less. How many observations are in <code>diamonds_low</code>?</li>
</ol>
<p>When using Analysis of Variance (ANOVA) to compare group means, it is ideal to have approximately the same number of observations in each group. Therefore, we will combine the worst two color groups, I and J, and create a new color category called “I/J”. Since <code>color</code> is an ordinal (<code>&lt;ord&gt;</code>) variable, we need to use the <code>recode_factor</code> function in the dplyr package to create the new category.</p>
<p>Use the <code>count</code> function before and after making the new color category to ensure the recoding worked as expected.</p>
<ol start="2" style="list-style-type: decimal">
<li><p>We begin by plotting the relationship between <code>color</code> and <code>carat</code>. As a group, brainstorm ways to plot the relationship between the two variables, then make one of the plots. Be sure to include informative axes labels and an informative title.</p></li>
<li><p>Fill in the code below to calculate the mean and variance of <code>carat</code> at each level of <code>color</code>.</p></li>
</ol>
<p>Based on the plots and summary statistics, does there appear to be a relationship between carat weight the color of diamonds? In other words, does there appear to be a significant difference in the mean carat weight across colors?</p>
<ol start="4" style="list-style-type: decimal">
<li>When using ANOVA to compare means across groups, we make the following assumptions (note how similar they are to the assumptions for regression):</li>
</ol>
<ul>
<li><strong>Normality</strong>: The distribution of <span class="math inline">\(y\)</span> is approximately normal within each category of <span class="math inline">\(x\)</span> - in the <span class="math inline">\(k^{th}\)</span> category, <span class="math inline">\(y \sim (\mu_k, \sigma^2)\)</span> . If the sample size is large, ANOVA is robust to some departures from Normality.</li>
<li><strong>Independence</strong>: All observations are independent from one another, i.e. one observation does not affect another.</li>
<li><strong>Constant Variance</strong>: The distribution of <span class="math inline">\(y\)</span> within each category of <span class="math inline">\(x\)</span> has a common variance, <span class="math inline">\(\sigma^2\)</span>. One way to assess if variances are sufficiently equal is to look at the ratio of the maximum group variance to the minimum group variance. If this ratio is less than 2, then we can conclude the variances are approximately equal. This isn’t an exact threshold, but rather a commonly used guideline. <em>Note: There are formal tests for equal variance that are outside the scope of this class.</em></li>
</ul>
<p>Are the assumptions for ANOVA met? Comment on each assumption using the summary statistics and/or plots from previous exercises to support your conclusion. You may also calculate any additional summary statistics or make additional plots as needed.</p>
<p><em>Regardless of your answer to Excerise 4, We will proceed with the analysis in the remainder of this lab as if the assumptions are met.</em></p>
<ol start="5" style="list-style-type: decimal">
<li><p>Use the code below to calculate the ANOVA table. The <code>tidy</code> function from the broom package is used to put the ANOVA output in a dataframe, and with the <code>kable</code> function from the knitr package, you can display the results in an easy-to-read table.</p></li>
<li><p>Use the ANOVA table to calculate the total mean square, i.e. the sample variance of <code>carat</code>. Show your calculations. You can put the calculations in a code chunk to use R like a calculator.</p></li>
<li><p>What is <span class="math inline">\(\hat{\sigma}^2\)</span>, the estimated variance of <code>carat</code> within each level of <code>color</code>.</p></li>
<li><p>We can use ANOVA to test if the true mean value of <code>carat</code> is equal for all levels of <code>color</code>, i.e.</p></li>
</ol>
<p><span class="math display">\[ H_0: \mu_1 = \mu_2 = \dots = \mu_6\]</span></p>
<p>State the alternative hypothesis is the context of the data.</p>
<ol start="9" style="list-style-type: decimal">
<li><p>Based on the ANOVA table, what is your conclusion from the test of the hypotheses in the previous question? State the conclusion in the context of the data.</p></li>
<li><p>Use the code below to plot a 95% confidence interval for the mean carat weight at each level of color. Calculate the value of <code>sigma</code> by filling in the estimated variance from Exercise 7.</p></li>
</ol>
<p>The formula for the confidence interval for the mean of group <span class="math inline">\(k\)</span> is</p>
<p><span class="math display">\[\bar{y}_k \pm t^* \frac{\hat{\sigma}}{\sqrt{n_k}}\]</span></p>
<ol start="11" style="list-style-type: decimal">
<li><p>For what color level is the mean carat weight the most different from all the others?</p></li>
<li><p>Based on this analysis, describe the relationship between the color and the mean carat weight in diamonds that cost $1200 or less. <em>Refer to the diamond documentation to recall what the color scale means.</em></p></li>
</ol>
<p><em>You’re done! Commit all remaining changes, use the commit message “Done with Lab 3!”, and push. Before you wrap up the assignment, make sure the .Rmd, .html, and .md documents are all updated on your GitHub repo.</em></p>
<hr />

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="3-slr.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="5-mlr.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"download": ["intro-regression.pdf", "intro-regression.epub"],
"toc": {
"collapse": "section",
"toc_depth": 1,
"scroll_highlight": true
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
