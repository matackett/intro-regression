<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title> 3 Intro to R | Intro Regression</title>
  <meta name="description" content="An electronic book with assignments and in-class activities to help students apply concepts in an intermediate-level regression analysis course. The primary focus of this text is application and computing; there are also supplemental math notes for some topics.">
  <meta name="generator" content="bookdown  and GitBook 2.6.7">

  <meta property="og:title" content=" 3 Intro to R | Intro Regression" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://www.introregression.org/" />
  <meta property="og:image" content="https://www.introregression.org/img/introregression-sticker.png" />
  <meta property="og:description" content="An electronic book with assignments and in-class activities to help students apply concepts in an intermediate-level regression analysis course. The primary focus of this text is application and computing; there are also supplemental math notes for some topics." />
  <meta name="github-repo" content="matackett/intro-regression" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content=" 3 Intro to R | Intro Regression" />
  
  <meta name="twitter:description" content="An electronic book with assignments and in-class activities to help students apply concepts in an intermediate-level regression analysis course. The primary focus of this text is application and computing; there are also supplemental math notes for some topics." />
  <meta name="twitter:image" content="https://www.introregression.org/img/introregression-sticker.png" />

<meta name="author" content="Maria Tackett">



  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <link rel="apple-touch-icon-precomposed" sizes="152x152" href="img/introregression-sticker.png">
  <link rel="shortcut icon" href="img/introregression-sticker.png" type="image/x-icon">
<link rel="prev" href="2-instr.html">
<link rel="next" href="4-slr.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Intro Regression</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome to Intro Regression!</a></li>
<li class="chapter" data-level="1" data-path="1-getstarted.html"><a href="1-getstarted.html"><i class="fa fa-check"></i><b>1</b> Getting Started</a><ul>
<li class="chapter" data-level="1.1" data-path="1-getstarted.html"><a href="1-getstarted.html#how-to-use-this-book"><i class="fa fa-check"></i><b>1.1</b> How to use this book</a></li>
<li class="chapter" data-level="1.2" data-path="1-getstarted.html"><a href="1-getstarted.html#review"><i class="fa fa-check"></i><b>1.2</b> Review: Intro Statistics and R</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="2-instr.html"><a href="2-instr.html"><i class="fa fa-check"></i><b>2</b> Notes for Instructors</a><ul>
<li class="chapter" data-level="2.1" data-path="2-instr.html"><a href="2-instr.html#setting-up-your-course"><i class="fa fa-check"></i><b>2.1</b> Setting up your course</a><ul>
<li class="chapter" data-level="2.1.1" data-path="2-instr.html"><a href="2-instr.html#github"><i class="fa fa-check"></i><b>2.1.1</b> GitHub</a></li>
<li class="chapter" data-level="2.1.2" data-path="2-instr.html"><a href="2-instr.html#rstudio-cloud"><i class="fa fa-check"></i><b>2.1.2</b> RStudio Cloud</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="2-instr.html"><a href="2-instr.html#making-assignments"><i class="fa fa-check"></i><b>2.2</b> Making Assignments</a><ul>
<li class="chapter" data-level="2.2.1" data-path="2-instr.html"><a href="2-instr.html#github-1"><i class="fa fa-check"></i><b>2.2.1</b> GitHub</a></li>
<li class="chapter" data-level="2.2.2" data-path="2-instr.html"><a href="2-instr.html#rstudio-cloud-1"><i class="fa fa-check"></i><b>2.2.2</b> RStudio Cloud</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="2-instr.html"><a href="2-instr.html#additional-resources"><i class="fa fa-check"></i><b>2.3</b> Additional Resources</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="3-intro-r.html"><a href="3-intro-r.html"><i class="fa fa-check"></i><b>3</b> Intro to R</a><ul>
<li class="chapter" data-level="3.1" data-path="3-intro-r.html"><a href="3-intro-r.html#comp-intro-to-r"><i class="fa fa-check"></i><b>3.1</b> COMP: Intro to R</a><ul>
<li class="chapter" data-level="" data-path="3-intro-r.html"><a href="3-intro-r.html#introduction"><i class="fa fa-check"></i>Introduction</a></li>
<li class="chapter" data-level="" data-path="3-intro-r.html"><a href="3-intro-r.html#packages"><i class="fa fa-check"></i>Packages</a></li>
<li class="chapter" data-level="" data-path="3-intro-r.html"><a href="3-intro-r.html#warm-up"><i class="fa fa-check"></i>Warm up</a></li>
<li class="chapter" data-level="" data-path="3-intro-r.html"><a href="3-intro-r.html#data"><i class="fa fa-check"></i>Data</a></li>
<li class="chapter" data-level="" data-path="3-intro-r.html"><a href="3-intro-r.html#exercises"><i class="fa fa-check"></i>Exercises</a></li>
<li class="chapter" data-level="" data-path="3-intro-r.html"><a href="3-intro-r.html#simple-linear-regression"><i class="fa fa-check"></i>Simple Linear Regression</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="3-intro-r.html"><a href="3-intro-r.html#in-class-movies-on-imdb"><i class="fa fa-check"></i><b>3.2</b> IN-CLASS: Movies on IMDB</a><ul>
<li class="chapter" data-level="" data-path="3-intro-r.html"><a href="3-intro-r.html#data-1"><i class="fa fa-check"></i>Data</a></li>
<li class="chapter" data-level="" data-path="3-intro-r.html"><a href="3-intro-r.html#analysis"><i class="fa fa-check"></i>Analysis</a></li>
<li class="chapter" data-level="" data-path="3-intro-r.html"><a href="3-intro-r.html#next-steps"><i class="fa fa-check"></i>Next Steps</a></li>
<li class="chapter" data-level="" data-path="3-intro-r.html"><a href="3-intro-r.html#discussion-questions"><i class="fa fa-check"></i>Discussion Questions</a></li>
<li class="chapter" data-level="" data-path="3-intro-r.html"><a href="3-intro-r.html#appendix"><i class="fa fa-check"></i>Appendix</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="4-slr.html"><a href="4-slr.html"><i class="fa fa-check"></i><b>4</b> Simple Linear Regression</a><ul>
<li class="chapter" data-level="4.1" data-path="4-slr.html"><a href="4-slr.html#comp-college-admissions"><i class="fa fa-check"></i><b>4.1</b> COMP: College Admissions</a><ul>
<li class="chapter" data-level="" data-path="4-slr.html"><a href="4-slr.html#introduction-1"><i class="fa fa-check"></i>Introduction</a></li>
<li class="chapter" data-level="" data-path="4-slr.html"><a href="4-slr.html#packages-1"><i class="fa fa-check"></i>Packages</a></li>
<li class="chapter" data-level="" data-path="4-slr.html"><a href="4-slr.html#data-2"><i class="fa fa-check"></i>Data</a></li>
<li class="chapter" data-level="" data-path="4-slr.html"><a href="4-slr.html#exercises-1"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="4-slr.html"><a href="4-slr.html#in-class-advertising-sales"><i class="fa fa-check"></i><b>4.2</b> IN-CLASS: Advertising &amp; Sales</a><ul>
<li class="chapter" data-level="" data-path="4-slr.html"><a href="4-slr.html#packages-2"><i class="fa fa-check"></i>Packages</a></li>
<li class="chapter" data-level="" data-path="4-slr.html"><a href="4-slr.html#data-3"><i class="fa fa-check"></i>Data</a></li>
<li class="chapter" data-level="" data-path="4-slr.html"><a href="4-slr.html#exercises-2"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="4-slr.html"><a href="4-slr.html#in-class-carbohydrates-in-beer"><i class="fa fa-check"></i><b>4.3</b> IN-CLASS: Carbohydrates in Beer</a><ul>
<li class="chapter" data-level="" data-path="4-slr.html"><a href="4-slr.html#packages-3"><i class="fa fa-check"></i>Packages</a></li>
<li class="chapter" data-level="" data-path="4-slr.html"><a href="4-slr.html#data-4"><i class="fa fa-check"></i>Data</a></li>
<li class="chapter" data-level="" data-path="4-slr.html"><a href="4-slr.html#exercises-3"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="5-anova.html"><a href="5-anova.html"><i class="fa fa-check"></i><b>5</b> Analysis of Variance</a><ul>
<li class="chapter" data-level="5.0.1" data-path="5-anova.html"><a href="5-anova.html#comp-diamonds"><i class="fa fa-check"></i><b>5.0.1</b> COMP: Diamonds</a></li>
<li class="chapter" data-level="" data-path="5-anova.html"><a href="5-anova.html#introduction-2"><i class="fa fa-check"></i>Introduction</a></li>
<li class="chapter" data-level="" data-path="5-anova.html"><a href="5-anova.html#data-5"><i class="fa fa-check"></i>Data</a></li>
<li class="chapter" data-level="" data-path="5-anova.html"><a href="5-anova.html#exercises-4"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="6-mlr.html"><a href="6-mlr.html"><i class="fa fa-check"></i><b>6</b> Multiple Linear Regression</a><ul>
<li class="chapter" data-level="6.1" data-path="6-mlr.html"><a href="6-mlr.html#comp-houses-in-king-county"><i class="fa fa-check"></i><b>6.1</b> COMP: Houses in King County</a><ul>
<li class="chapter" data-level="6.1.1" data-path="6-mlr.html"><a href="6-mlr.html#packages-5"><i class="fa fa-check"></i><b>6.1.1</b> Packages</a></li>
<li class="chapter" data-level="6.1.2" data-path="6-mlr.html"><a href="6-mlr.html#data-6"><i class="fa fa-check"></i><b>6.1.2</b> Data</a></li>
<li class="chapter" data-level="6.1.3" data-path="6-mlr.html"><a href="6-mlr.html#exercises-5"><i class="fa fa-check"></i><b>6.1.3</b> Exercises</a></li>
<li class="chapter" data-level="6.1.4" data-path="6-mlr.html"><a href="6-mlr.html#acknowledgement"><i class="fa fa-check"></i><b>6.1.4</b> Acknowledgement</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="6-mlr.html"><a href="6-mlr.html#comp-airbnb-in-asheville-nc"><i class="fa fa-check"></i><b>6.2</b> COMP: Airbnb in Asheville, NC</a><ul>
<li class="chapter" data-level="6.2.1" data-path="6-mlr.html"><a href="6-mlr.html#packages-6"><i class="fa fa-check"></i><b>6.2.1</b> Packages</a></li>
<li class="chapter" data-level="6.2.2" data-path="6-mlr.html"><a href="6-mlr.html#data-7"><i class="fa fa-check"></i><b>6.2.2</b> Data</a></li>
<li class="chapter" data-level="6.2.3" data-path="6-mlr.html"><a href="6-mlr.html#exercises-6"><i class="fa fa-check"></i><b>6.2.3</b> Exercises</a></li>
<li class="chapter" data-level="6.2.4" data-path="6-mlr.html"><a href="6-mlr.html#acknowledgement-1"><i class="fa fa-check"></i><b>6.2.4</b> Acknowledgement</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="6-mlr.html"><a href="6-mlr.html#in-class-wages"><i class="fa fa-check"></i><b>6.3</b> IN-CLASS: Wages</a><ul>
<li class="chapter" data-level="6.3.1" data-path="6-mlr.html"><a href="6-mlr.html#initial-model"><i class="fa fa-check"></i><b>6.3.1</b> Initial model</a></li>
<li class="chapter" data-level="6.3.2" data-path="6-mlr.html"><a href="6-mlr.html#model-with-mean-centered-variables"><i class="fa fa-check"></i><b>6.3.2</b> Model with mean-centered variables</a></li>
<li class="chapter" data-level="6.3.3" data-path="6-mlr.html"><a href="6-mlr.html#model-with-indicator-variables"><i class="fa fa-check"></i><b>6.3.3</b> Model with indicator variables</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="6-mlr.html"><a href="6-mlr.html#notes-matrix-form-of-linear-regression"><i class="fa fa-check"></i><b>6.4</b> NOTES: Matrix Form of Linear Regression</a><ul>
<li class="chapter" data-level="6.4.1" data-path="6-mlr.html"><a href="6-mlr.html#introduction-3"><i class="fa fa-check"></i><b>6.4.1</b> Introduction</a></li>
<li class="chapter" data-level="6.4.2" data-path="6-mlr.html"><a href="6-mlr.html#matrix-form-for-the-regression-model"><i class="fa fa-check"></i><b>6.4.2</b> Matrix Form for the Regression Model</a></li>
<li class="chapter" data-level="6.4.3" data-path="6-mlr.html"><a href="6-mlr.html#estimating-the-coefficients"><i class="fa fa-check"></i><b>6.4.3</b> Estimating the Coefficients</a></li>
<li class="chapter" data-level="6.4.4" data-path="6-mlr.html"><a href="6-mlr.html#variance-covariance-matrix-of-the-coefficients"><i class="fa fa-check"></i><b>6.4.4</b> Variance-covariance matrix of the coefficients</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="6-mlr.html"><a href="6-mlr.html#notes-log-transformations"><i class="fa fa-check"></i><b>6.5</b> NOTES: Log Transformations</a><ul>
<li class="chapter" data-level="6.5.1" data-path="6-mlr.html"><a href="6-mlr.html#log-transformation-on-the-response-variable"><i class="fa fa-check"></i><b>6.5.1</b> Log-transformation on the response variable</a></li>
<li class="chapter" data-level="6.5.2" data-path="6-mlr.html"><a href="6-mlr.html#log-transformation-on-the-predictor-variable"><i class="fa fa-check"></i><b>6.5.2</b> Log-transformation on the predictor variable</a></li>
<li class="chapter" data-level="6.5.3" data-path="6-mlr.html"><a href="6-mlr.html#log-transformation-on-the-the-response-and-predictor-variable"><i class="fa fa-check"></i><b>6.5.3</b> Log-transformation on the the response and predictor variable</a></li>
</ul></li>
<li class="chapter" data-level="6.6" data-path="6-mlr.html"><a href="6-mlr.html#notes-model-diagnostics"><i class="fa fa-check"></i><b>6.6</b> NOTES: Model Diagnostics</a><ul>
<li class="chapter" data-level="6.6.1" data-path="6-mlr.html"><a href="6-mlr.html#introduction-4"><i class="fa fa-check"></i><b>6.6.1</b> Introduction</a></li>
<li class="chapter" data-level="6.6.2" data-path="6-mlr.html"><a href="6-mlr.html#matrix-form-for-the-regression-model-1"><i class="fa fa-check"></i><b>6.6.2</b> Matrix Form for the Regression Model</a></li>
<li class="chapter" data-level="6.6.3" data-path="6-mlr.html"><a href="6-mlr.html#hat-matrix-leverage"><i class="fa fa-check"></i><b>6.6.3</b> Hat Matrix &amp; Leverage</a></li>
<li class="chapter" data-level="6.6.4" data-path="6-mlr.html"><a href="6-mlr.html#standardized-residuals"><i class="fa fa-check"></i><b>6.6.4</b> Standardized Residuals</a></li>
<li class="chapter" data-level="6.6.5" data-path="6-mlr.html"><a href="6-mlr.html#cooks-distance"><i class="fa fa-check"></i><b>6.6.5</b> Cook’s Distance</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="7-select.html"><a href="7-select.html"><i class="fa fa-check"></i><b>7</b> Model Selection</a><ul>
<li class="chapter" data-level="7.1" data-path="7-select.html"><a href="7-select.html#comp-sats-and-mlb"><i class="fa fa-check"></i><b>7.1</b> COMP: SATs and MLB</a><ul>
<li class="chapter" data-level="" data-path="7-select.html"><a href="7-select.html#introduction-5"><i class="fa fa-check"></i>Introduction</a></li>
<li class="chapter" data-level="" data-path="7-select.html"><a href="7-select.html#data-8"><i class="fa fa-check"></i>Data</a></li>
<li class="chapter" data-level="" data-path="7-select.html"><a href="7-select.html#exercises-7"><i class="fa fa-check"></i>Exercises</a></li>
<li class="chapter" data-level="7.1.1" data-path="7-select.html"><a href="7-select.html#acknowledgements"><i class="fa fa-check"></i><b>7.1.1</b> Acknowledgements</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="7-select.html"><a href="7-select.html#in-class-sats-by-state"><i class="fa fa-check"></i><b>7.2</b> IN-CLASS: SATs by State</a><ul>
<li class="chapter" data-level="" data-path="7-select.html"><a href="7-select.html#manual-backward-selection"><i class="fa fa-check"></i>“Manual” backward selection</a></li>
<li class="chapter" data-level="" data-path="7-select.html"><a href="7-select.html#backward-selection-using-regsubsets"><i class="fa fa-check"></i>Backward selection using regsubsets</a></li>
<li class="chapter" data-level="" data-path="7-select.html"><a href="7-select.html#changing-selection-criteria"><i class="fa fa-check"></i>Changing selection criteria</a></li>
<li class="chapter" data-level="" data-path="7-select.html"><a href="7-select.html#different-selection-procedure"><i class="fa fa-check"></i>Different selection procedure</a></li>
<li class="chapter" data-level="" data-path="7-select.html"><a href="7-select.html#choosing-a-final-model"><i class="fa fa-check"></i>Choosing a final model</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="7-select.html"><a href="7-select.html#notes-model-selection-criteria"><i class="fa fa-check"></i><b>7.3</b> NOTES: Model Selection Criteria</a><ul>
<li class="chapter" data-level="7.3.1" data-path="7-select.html"><a href="7-select.html#maximum-likelihood-estimation-of-boldsymbolbeta-and-sigma"><i class="fa fa-check"></i><b>7.3.1</b> Maximum Likelihood Estimation of <span class="math inline">\(\boldsymbol{\beta}\)</span> and <span class="math inline">\(\sigma\)</span></a></li>
<li class="chapter" data-level="7.3.2" data-path="7-select.html"><a href="7-select.html#aic"><i class="fa fa-check"></i><b>7.3.2</b> AIC</a></li>
<li class="chapter" data-level="7.3.3" data-path="7-select.html"><a href="7-select.html#bic"><i class="fa fa-check"></i><b>7.3.3</b> BIC</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="8-logistic.html"><a href="8-logistic.html"><i class="fa fa-check"></i><b>8</b> Logistic Regression</a><ul>
<li class="chapter" data-level="8.1" data-path="8-logistic.html"><a href="8-logistic.html#comp-spotify"><i class="fa fa-check"></i><b>8.1</b> COMP: Spotify</a><ul>
<li class="chapter" data-level="8.1.1" data-path="8-logistic.html"><a href="8-logistic.html#packages-8"><i class="fa fa-check"></i><b>8.1.1</b> Packages</a></li>
<li class="chapter" data-level="8.1.2" data-path="8-logistic.html"><a href="8-logistic.html#data-9"><i class="fa fa-check"></i><b>8.1.2</b> Data</a></li>
<li class="chapter" data-level="8.1.3" data-path="8-logistic.html"><a href="8-logistic.html#exercises-8"><i class="fa fa-check"></i><b>8.1.3</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="8-logistic.html"><a href="8-logistic.html#in-class-risk-of-heart-disease"><i class="fa fa-check"></i><b>8.2</b> IN-CLASS: Risk of Heart Disease</a><ul>
<li class="chapter" data-level="8.2.1" data-path="8-logistic.html"><a href="8-logistic.html#references"><i class="fa fa-check"></i><b>8.2.1</b> References</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="9-multinom-logistic.html"><a href="9-multinom-logistic.html"><i class="fa fa-check"></i><b>9</b> Multinomial Logistic Regression</a><ul>
<li class="chapter" data-level="9.1" data-path="9-multinom-logistic.html"><a href="9-multinom-logistic.html#comp-general-social-survey"><i class="fa fa-check"></i><b>9.1</b> COMP: General Social Survey</a><ul>
<li class="chapter" data-level="9.1.1" data-path="9-multinom-logistic.html"><a href="9-multinom-logistic.html#packages-9"><i class="fa fa-check"></i><b>9.1.1</b> Packages</a></li>
<li class="chapter" data-level="9.1.2" data-path="9-multinom-logistic.html"><a href="9-multinom-logistic.html#data-10"><i class="fa fa-check"></i><b>9.1.2</b> Data</a></li>
<li class="chapter" data-level="9.1.3" data-path="9-multinom-logistic.html"><a href="9-multinom-logistic.html#exercises-9"><i class="fa fa-check"></i><b>9.1.3</b> Exercises</a></li>
<li class="chapter" data-level="9.1.4" data-path="9-multinom-logistic.html"><a href="9-multinom-logistic.html#acknowledgements-1"><i class="fa fa-check"></i><b>9.1.4</b> Acknowledgements</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="9-multinom-logistic.html"><a href="9-multinom-logistic.html#in-class-sesame-street"><i class="fa fa-check"></i><b>9.2</b> IN-CLASS: Sesame Street</a><ul>
<li class="chapter" data-level="9.2.1" data-path="9-multinom-logistic.html"><a href="9-multinom-logistic.html#questions"><i class="fa fa-check"></i><b>9.2.1</b> Questions</a></li>
<li class="chapter" data-level="9.2.2" data-path="9-multinom-logistic.html"><a href="9-multinom-logistic.html#references-1"><i class="fa fa-check"></i><b>9.2.2</b> References</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="10-special.html"><a href="10-special.html"><i class="fa fa-check"></i><b>10</b> Special Topics</a><ul>
<li class="chapter" data-level="10.1" data-path="10-special.html"><a href="10-special.html#comp-regression-start-to-finish"><i class="fa fa-check"></i><b>10.1</b> COMP: Regression Start to Finish</a><ul>
<li class="chapter" data-level="10.1.1" data-path="10-special.html"><a href="10-special.html#packages-10"><i class="fa fa-check"></i><b>10.1.1</b> Packages</a></li>
<li class="chapter" data-level="10.1.2" data-path="10-special.html"><a href="10-special.html#data-11"><i class="fa fa-check"></i><b>10.1.2</b> Data</a></li>
<li class="chapter" data-level="10.1.3" data-path="10-special.html"><a href="10-special.html#exercises-10"><i class="fa fa-check"></i><b>10.1.3</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="10-special.html"><a href="10-special.html#in-class-missing-data-exercise"><i class="fa fa-check"></i><b>10.2</b> IN-CLASS: Missing Data Exercise</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="11-datasets.html"><a href="11-datasets.html"><i class="fa fa-check"></i><b>11</b> Data Sets</a></li>
<li class="chapter" data-level="" data-path="references-2.html"><a href="references-2.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Intro Regression</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="intro-r" class="section level1">
<h1><span class="header-section-number"> 3</span> Intro to R</h1>
<div id="comp-intro-to-r" class="section level2">
<h2><span class="header-section-number">3.1</span> COMP: Intro to R</h2>
<div id="introduction" class="section level3 unnumbered">
<h3>Introduction</h3>
<p>The main goal of this assignment is to introduce you to R and RStudio, which we will be using throughout the course both to learn the statistical concepts discussed in the course and to analyze real data and come to informed conclusions. (<em>Note: R is the name of the programming language and RStudio is an interface.</em>)</p>
<p>An additional goal is to introduce you to git, a version control system, and GitHub, a collaboration system that is a place on the internet to host git-based projects. We will be using both of these tools throughout the seemster.</p>
<p>This assignment will focus on learning the basics of R and RStudio - understanding the interface, reading in data, and some basic commands. Future assignments will focus more specifically on regression analysis. This introduction to R and RStudio is not comprehensive. Students who are brand new to R should refer to {#review} for resources that provide a more comprehensive introduction to R.</p>
<p>This assignment should be completed <strong>individually</strong>, so you can get practice using git and GitHub before collaborating with others. You will work with others in future computing assignments.</p>
<div id="topics" class="section level4 unnumbered">
<h4>Topics:</h4>
<ul>
<li>Exploratory Data Analysis (data visualizations and numerical summaries)</li>
<li>Simple linear regression</li>
<li>Writing a report using R Markdown</li>
<li>Tracking changes and submitting work using git and GitHub</li>
</ul>
</div>
</div>
<div id="packages" class="section level3 unnumbered">
<h3>Packages</h3>
<p>We will use the following packages in today’s assignment.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(tidyverse)
<span class="kw">library</span>(readr)
<span class="kw">library</span>(skimr)
<span class="kw">library</span>(broom)</code></pre></div>
<p>If you need to install any of the packages, you can run the code below in the <strong>console</strong>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">install.packages</span>(<span class="st">&quot;tidyverse&quot;</span>) 
<span class="kw">install.packages</span>(<span class="st">&quot;readr&quot;</span>)
<span class="kw">install.packages</span>(<span class="st">&quot;skimr&quot;</span>)
<span class="kw">install.packages</span>(<span class="st">&quot;broom&quot;</span>)</code></pre></div>
</div>
<div id="warm-up" class="section level3 unnumbered">
<h3>Warm up</h3>
<div id="yaml" class="section level4 unnumbered">
<h4>YAML:</h4>
<p>The top of the R Markdown file (between the three dashed lines) is called the YAML (“YAML Ain’t Markup Language”). Basic information about your document, such as the title, author, output format, etc., is located in the YAML.</p>
<p>Open the R Markdown (.Rmd) file in your project, change the author name to your name, and knit the document.</p>
</div>
<div id="commiting-changes" class="section level4 unnumbered">
<h4>Commiting changes:</h4>
<p>Go to the <strong>Git</strong> pane in RStudio.</p>
<p>You should see the changes you made to the Rmd file listed here. Click to select the change (or changes) you made and click <strong>Diff</strong> to see the difference between the last committed state of the document and the current state that now includes your changes (in this case, writing your name in the author field). Now, write a short message in the <strong>Commit message</strong> box (e.g. a message like “Updated author name”) and click <strong>Commit</strong>.</p>
<p>You don’t have to commit after every change, but should commit states that are meaningful and may be helpful to use later for comparision. In the early assignments, there will be guidance to help you determine when to commit, and you will choose when to commit in later assignments.</p>
</div>
<div id="pushing-changes" class="section level4 unnumbered">
<h4>Pushing changes:</h4>
<p>Once you’ve committed a set of changes, the next step is to push them to the repo on GitHub.com. This is to ensure others can see your changes (in this class the instructor since your repos are only visible to you and the instructor). In other words, pushing changes is how you will submit your work for grading.</p>
<p>To push your changes to GitHub, click on <strong>Push</strong>. (<em>Note: If you are using RStudio Cloud, you may be asked to input your GitHub username and password. We will discuss how to save your GitHub credentials in a later assignment.</em>)</p>
</div>
</div>
<div id="data" class="section level3 unnumbered">
<h3>Data</h3>
<p>Today’s data comes from the Capital Bikeshare in Washington D.C <span class="citation">(“Capital Bikeshare” <a href="#ref-capitalbikeshare">2019</a>)</span>. The Capital Bikeshare is a system in which customers can rent a bike for little cost, ride it around the city, and return it to a station near their destination. We will read in the data from the file <em>bikeshare.csv</em> located in the <em>data</em> folder.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">bikeshare &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="st">&quot;data/bikeshare.csv&quot;</span>)</code></pre></div>
<p>This dataset contains the number of bike rentals, environmental conditions, and other information about the Capital Bikeshare everyday in 2011 and 2012.</p>
</div>
<div id="exercises" class="section level3 unnumbered">
<h3>Exercises</h3>
<p>Before doing any analysis, we want to understand the basic structure of the data. One way to do this, is to look at the actual dataset. Type the code below in the <strong>console</strong> to view the entire dataset.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">View</span>(bikeshare)</code></pre></div>
<p>Because the dataset is large (i..e has a large number of observations), it is difficult to understand the data just by looking at the individual observations. We can use the <code>glimpse</code> function to view a summary of the data and get a general idea about the data structure. Using this function to view the data can be especially useful when importing data from a csv file (like in this assignment) to ensure that the imported dataset has the number of observations (rows) and variables (columns) we expect. We can also use this function to see the type for each of the imported variables (integer, character, etc.).</p>
<p><em>Note: To learn more about a function, type <code>??function</code> in the console. For example, to learn more about the <code>glimpse</code> function, type <code>??glimpse</code> in the console.</em></p>
<ol style="list-style-type: decimal">
<li>Type <code>glimpse(bikeshare)</code> in the <strong>console</strong> an overview of the <code>bikeshare</code> dataset.</li>
</ol>
<p>How many observations are in the <code>bikeshare</code> dataset? How many variables?</p>
<ol start="2" style="list-style-type: decimal">
<li>In this assignment, we will focus the analysis on the following variables:</li>
</ol>
<table>
<tbody>
<tr class="odd">
<td><code>season</code></td>
<td>1: Winter, 2: Spring, 3: Summer, 4: Fall</td>
</tr>
<tr class="even">
<td><code>temp</code></td>
<td>Temperature (in <span class="math inline">\(^{\circ}C\)</span>) ÷ 41</td>
</tr>
<tr class="odd">
<td><code>count</code></td>
<td>total number of bike rentals</td>
</tr>
</tbody>
</table>
<p>Before fitting any regression models, we want to do an exploratory data analysis (EDA) to summarize the main characteristics of the data. Much of the EDA is visual, which we’ll discuss more in the next exercise. The EDA also consists of calculating summary statistics for the variables in our dataset. It is good practice to examine any variable that may be relevant to the analysis in the EDA, since there may be variables that aren’t directly included in the regression model but still provide important context to fully understand the results (i.e. lurking variables). To keep this assignment manageable, we will only examine the three variables <code>season</code>, <code>temp</code>, and <code>count</code>.</p>
<p>There are many ways to calculate summary statistics for each variable, and we will use a few of them throughout the semester. For now, let’s use the <code>skim</code> function to calculate basic measures of center and spread and get a sketch of the distribution.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">    bikeshare <span class="op">%&gt;%</span>
<span class="st">      </span><span class="kw">select</span>(season,temp,count) <span class="op">%&gt;%</span>
<span class="st">      </span><span class="kw">skim</span>()</code></pre></div>
<ul>
<li>What is the mean number of bike rentals?</li>
<li>About 25% of the days in the data have a <code>count</code> above what value?</li>
</ul>
<ol start="3" style="list-style-type: decimal">
<li>Does it make sense to calculate measures of center and spread for the variable <code>season</code>? If so, explain why it makes sense. Otherwise, explain why the <code>skim</code> function calculated these summary statistics for the variable <code>season</code> even if they don’t make sense.</li>
</ol>
<p><em>Knit and commit changes with the commit message “Added summary statistics (Ex 1 - 3)”, and push.</em></p>
<div id="visualizing-your-data" class="section level4 unnumbered">
<h4>Visualizing Your Data</h4>
<ol start="4" style="list-style-type: decimal">
<li>One important part of EDA is visualizing the data to get a better understanding about the shape of the distribution for each variable and the relationship between variables. There are a lot of ways to make plots in R; we will use the functions available in the <code>ggplot2</code> package.</li>
</ol>
<p><em>Note: <a href="https://ggplot2.tidyverse.org/" class="uri">https://ggplot2.tidyverse.org/</a> is a great resource as you learn <code>ggplot()</code>. Click <strong>Reference</strong> in the top right corner to see a list of the various plot types available in the ggplot2 package.</em></p>
<p>The code below is used to create a histogram to visualize the distribution of <code>count</code>. Modify the code by writing an informative title and label for the x-axis.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(<span class="dt">data=</span>bikeshare, <span class="dt">mapping=</span><span class="kw">aes</span>(<span class="dt">x=</span>count)) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw">geom_histogram</span>() <span class="op">+</span>
<span class="st">  </span><span class="kw">labs</span>(<span class="dt">title=</span><span class="st">&quot;______&quot;</span>, <span class="dt">x=</span><span class="st">&quot;______&quot;</span>)</code></pre></div>
<ol start="5" style="list-style-type: decimal">
<li>There may be times you want to customize a plot by changing features such as the color, marker types, etc. When plotting a histogram, one easy way to customize it is by changing the color of the bars. Let’s look at two different ways to do this.</li>
</ol>
<p>First, using a color of your choice, fill in the code below to include the option <code>color=&quot;_____&quot;</code> inside of <code>geom_histogram()</code> function. Be sure to also include an informative title and label for the x-axis. You can use the <a href="http://sape.inf.usi.ch/quick-reference/ggplot2/colour">ggplot2 quick reference</a> or <a href="https://htmlcolorcodes.com/">HTML color codes</a> to help choose a color.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(<span class="dt">data=</span>bikeshare, <span class="dt">mapping=</span><span class="kw">aes</span>(<span class="dt">x=</span>count)) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw">geom_histogram</span>(<span class="dt">color=</span><span class="st">&quot;_______&quot;</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">labs</span>(<span class="dt">title=</span><span class="st">&quot;______&quot;</span>, <span class="dt">x=</span><span class="st">&quot;______&quot;</span>)</code></pre></div>
<p>Next, instead of <code>color=&quot;_____&quot;</code>, use <code>fill=&quot;______&quot;</code> inside of the <code>geom_histogram</code> code and fill in the color of your choice. It can be the same color you chose before or a different one.</p>
<p>What is the difference in the two plots? In other words, what is the difference in the way color displays on the histogram when using <code>color</code> versus <code>fill</code>?</p>
<ol start="6" style="list-style-type: decimal">
<li>Describe the distribution of <code>count</code>. Your description should include comments about the shape, center, spread, and any potential outliers. Refer to the histogram and the summary statistics from Exercise 2 in your description.</li>
</ol>
<p><em>Knit and commit changes with the commit message “Added data visualization of count (Ex 4 - 6)”, and push.</em></p>
<ol start="7" style="list-style-type: decimal">
<li>Now that we’ve examined the variables individually, we want to look at the relationship between the variables. To make interpretation easier, we will use the <code>mutate</code> function to create a new variable called <code>temp_c</code> that is calculated as <code>temp * 41</code>. We will use <code>temp_c</code> for the remainder of the analysis, so the temperature can be discussed in terms of degrees Celsius.</li>
</ol>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">bikeshare &lt;-<span class="st"> </span>bikeshare <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">temp_c =</span> temp <span class="op">*</span><span class="st"> </span><span class="dv">41</span>)</code></pre></div>
<p>Complete the code below to make a scatterplot of the number of bike rentals versus the temperature (in degrees Celsius).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(<span class="dt">data=</span>bikeshare, <span class="dt">mapping=</span><span class="kw">aes</span>(<span class="dt">x=</span>temp_c,<span class="dt">y=</span>count)) <span class="op">+</span>
<span class="st">  </span>___________________</code></pre></div>
<p>Describe the relationship between the temperature and the number of bike rentals.</p>
<ol start="8" style="list-style-type: decimal">
<li>The temperature and number of bike rentals varies greatly depending on the season. Therefore, we would like to create a separate scatterplot of <code>count</code> versus <code>temp_c</code> for each season. To do so, we will use the <code>facet_wrap</code> function, faceting by <code>season</code>. Recall from Exercise 2 that <code>season</code> is currently stored as an integer. We need to change it to a factor variable type before using it in the <code>facet_wrap</code> function.</li>
</ol>
<p>Run the code below to see the replationship between temperature and number of bike rentals by season.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">bikeshare &lt;-<span class="st"> </span>bikeshare <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">season =</span> <span class="kw">as.factor</span>(season))</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(<span class="dt">data=</span>bikeshare, <span class="dt">mapping=</span><span class="kw">aes</span>(<span class="dt">x=</span>temp_c,<span class="dt">y=</span>count)) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw">geom_point</span>() <span class="op">+</span>
<span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Number of Bike Rentals vs. Temperature&quot;</span>, 
       <span class="dt">subtitle=</span><span class="st">&quot;Faceted by Season&quot;</span>, 
       <span class="dt">x =</span> <span class="st">&quot;Temperature (Celsius)&quot;</span>, 
       <span class="dt">y =</span> <span class="st">&quot;Number of Bike Rentals&quot;</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">facet_wrap</span>(<span class="op">~</span>season)</code></pre></div>
<p>For which season does the linear relationship between the temperature and the number of bike rentals appear to be the strongest?</p>
<p><em>Knit and commit changes with the commit message “Added visualization of count vs. temperature (Ex 7 - 8)”, and push.</em></p>
</div>
</div>
<div id="simple-linear-regression" class="section level3 unnumbered">
<h3>Simple Linear Regression</h3>
<p>We want to fit a least-squares regression using the temperature (<code>temp_c</code>) to explain variation in the number of bike rentals (<code>count</code>) in the <strong>winter</strong> season. We can use the <code>filter</code> function to create a subset from the data that only includes days during the winter season. The <code>&lt;-</code> assigns the name <code>winter_data</code> to our filtered subset.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">winter_data &lt;-<span class="st"> </span>bikeshare <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">filter</span>(season<span class="op">==</span><span class="st">&quot;1&quot;</span>)</code></pre></div>
<p><strong>We will use <code>winter_data</code> for the remainder of the assignment.</strong></p>
<ol start="9" style="list-style-type: decimal">
<li>Modify the code below to fit a simple linear regression model using the <code>lm</code> function; assign it the name <code>winter_model</code>. Replace <em>X</em>, <em>Y</em>, and <em>my.data</em> in the code below with the appropriate values.</li>
</ol>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">winter_model &lt;-<span class="st"> </span><span class="kw">lm</span>(Y <span class="op">~</span><span class="st"> </span>X, <span class="dt">data =</span> my.data)
<span class="kw">tidy</span>(model) <span class="co">#output model</span></code></pre></div>
<ul>
<li><p>Interpret the slope.</p></li>
<li><p>Does it make sense to interpret the intercept? If so, write the interpretation of the intercept. Otherwise, explain why not.</p></li>
</ul>
<ol start="10" style="list-style-type: decimal">
<li>We conclude by checking the assumptions for regression. We can use the <code>mutate</code> function to add a new variable called <code>resid</code> that is the residual for each observation in <code>winter_data</code>.</li>
</ol>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">winter_data &lt;-<span class="st"> </span>winter_data <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">resid =</span> <span class="kw">residuals</span>(winter_model))</code></pre></div>
<p>The code to plot the residuals vs. the predictor variable and make a Normal QQ-plot of residuals is shown below. In addition to these plots, write the code to make a histogram of the residuals. Refer to code from previous exercises to help you plot the histogram.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(<span class="dt">data=</span>winter_data, <span class="dt">mapping=</span><span class="kw">aes</span>(<span class="dt">x=</span>temp_c,<span class="dt">y=</span>resid)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_point</span>() <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw">geom_hline</span>(<span class="dt">yintercept=</span><span class="dv">0</span>,<span class="dt">color=</span><span class="st">&quot;red&quot;</span>)<span class="op">+</span>
<span class="st">  </span><span class="kw">labs</span>(<span class="dt">title=</span><span class="st">&quot;Residuals vs. Temperature&quot;</span>,
       <span class="dt">x=</span><span class="st">&quot;Temperature&quot;</span>, 
       <span class="dt">y=</span><span class="st">&quot;Residuals&quot;</span>)</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(<span class="dt">data=</span>winter_data, <span class="dt">mapping=</span><span class="kw">aes</span>(<span class="dt">sample=</span>resid)) <span class="op">+</span>
<span class="st">  </span><span class="kw">stat_qq</span>() <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw">stat_qq_line</span>()<span class="op">+</span>
<span class="st">  </span><span class="kw">labs</span>(<span class="dt">title=</span><span class="st">&quot;Normal QQ Plot of Residuals&quot;</span>)</code></pre></div>
<ul>
<li><p>Based on the plots of the residuals and the scatterplot, are the linearity, normality, and constant variance assumptions met? Briefly explain your reasoning for each assumption.</p></li>
<li><p>Is the independence assumption met? Briefly explain. You can use a description of the data and/or a plot to help you make this assessment.</p></li>
</ul>
<p>Throughout the semester, we will learn various methods to deal with any violations in regression assumptions. For now, we will just note them.</p>
<p><em>Knit then commit all remaining changes, write a commit message indiciating you’re finished, and push to GitHub. Before you finish, make sure all documents are updated on your GitHub repo.</em></p>
<hr />
</div>
</div>
<div id="in-class-movies-on-imdb" class="section level2">
<h2><span class="header-section-number">3.2</span> IN-CLASS: Movies on IMDB</h2>
<p>In this activity, we will examine the relationship between budget and revenue for movies made in the United States in 1986 to 2016. The data is originally <span class="citation">(“Internet Movie Database” <a href="#ref-imdb">2019</a>)</span>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#load packages</span>
<span class="kw">library</span>(readr)
<span class="kw">library</span>(tidyverse)
<span class="kw">library</span>(DT)</code></pre></div>
<div id="data-1" class="section level3 unnumbered">
<h3>Data</h3>
<p>The dataset <code>movies.csv</code> includes basic information about each movie including budget, genre, movie studio, director, etc. A full list of the variables may be found <a href="https://github.com/danielgrijalva/movie-stats">here</a>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">movies &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="st">&quot;https://raw.githubusercontent.com/danielgrijalva/movie-stats/master/movies.csv&quot;</span>)</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">movies &lt;-<span class="st"> </span>movies <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">filter</span>(country<span class="op">==</span><span class="st">&quot;USA&quot;</span>, <span class="co">#use movies in the USA</span>
         <span class="op">!</span>(genre <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Musical&quot;</span>,<span class="st">&quot;War&quot;</span>,<span class="st">&quot;Western&quot;</span>))) <span class="co">#removes genres with &lt; 10 movies</span></code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#view the data</span>
movies</code></pre></div>
</div>
<div id="analysis" class="section level3 unnumbered">
<h3>Analysis</h3>
<div id="part-1" class="section level4 unnumbered">
<h4>Part 1</h4>
<p>We begin by observing how the gross revenue (<code>gross</code>) has changed over time. Since we want to visualize the results, we will choose a few genres of interest for the analysis.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">genre_list &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Horror&quot;</span>, <span class="st">&quot;Drama&quot;</span>, <span class="st">&quot;Action&quot;</span>, <span class="st">&quot;Animation&quot;</span>)</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">movies <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">filter</span>(genre <span class="op">%in%</span><span class="st"> </span>genre_list) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">group_by</span>(genre,year) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">summarise</span>(<span class="dt">avg_gross =</span> <span class="kw">mean</span>(gross)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ggplot</span>(<span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x =</span> year, <span class="dt">y =</span> avg_gross, <span class="dt">color=</span>genre)) <span class="op">+</span>
<span class="st">    </span><span class="kw">geom_line</span>() <span class="op">+</span>
<span class="st">    </span><span class="kw">ylab</span>(<span class="st">&quot;Average Gross Revenue (in US Dollars)&quot;</span>) <span class="op">+</span>
<span class="st">    </span><span class="kw">ggtitle</span>(<span class="st">&quot;Gross Revenue Over Time&quot;</span>)</code></pre></div>
</div>
<div id="part-2" class="section level4 unnumbered">
<h4>Part 2</h4>
<p>Next, let’s see the relationship between a movie’s budget and its gross revenue. Because there is a large range of values for budget and revenue, we will plot the log-transformed version of each variable to more easily visualize the relationship. We will talk more about variable transformations later in the semester.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">movies <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">filter</span>(genre <span class="op">%in%</span><span class="st"> </span>genre_list, budget <span class="op">&gt;</span><span class="st"> </span><span class="dv">0</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ggplot</span>(<span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x=</span><span class="kw">log</span>(budget), <span class="dt">y =</span> <span class="kw">log</span>(gross), <span class="dt">color=</span>genre)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_point</span>() <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_smooth</span>(<span class="dt">method=</span><span class="st">&quot;lm&quot;</span>,<span class="dt">se=</span><span class="ot">FALSE</span>) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw">xlab</span>(<span class="st">&quot;Log-transformed Budget&quot;</span>)<span class="op">+</span>
<span class="st">  </span><span class="kw">ylab</span>(<span class="st">&quot;Log-transformed Gross Revenue&quot;</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">facet_wrap</span>(<span class="op">~</span><span class="st"> </span>genre)</code></pre></div>
</div>
</div>
<div id="next-steps" class="section level3 unnumbered">
<h3>Next Steps</h3>
<ol style="list-style-type: decimal">
<li><p>Put your name in the author field in the <code>YAML</code> at the top of the .Rmd file. Knit again. (We will talk more about the <code>YAML</code> later in future assingments.)</p></li>
<li><p>Change the genre names in parts 1 and 2 to genres that interest you. The spelling and capitalization must match what’s in the data, so you can use the <a href="3-intro-r.html#appendix">Appendix</a> to see the correct spelling and capitalization. Knit again.</p></li>
</ol>
</div>
<div id="discussion-questions" class="section level3 unnumbered">
<h3>Discussion Questions</h3>
<ol style="list-style-type: decimal">
<li>Consider the plot in Part 1.
<ul>
<li>Describe how movie revenue has changed over time.</li>
<li>Suppose we use revenue as a measure of popularity. How has the popularity of each genre changed over time? In other words, are the genres that were most popular in 1986 still the most popular today?</li>
</ul></li>
<li>Consider the plot in Part 2.
<ul>
<li>Which genre(s) tend to have the highest budgets?</li>
<li>In general, what is the relationship between a movie’s budget and its total revenue? Are there any genres that show a different relationship between budget and revenue?</li>
</ul></li>
</ol>
</div>
<div id="appendix" class="section level3 unnumbered">
<h3>Appendix</h3>
<p>Below is a list of genres in the data set:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">movies <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">arrange</span>(genre) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">select</span>(genre) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">distinct</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">datatable</span>()</code></pre></div>
<hr />

</div>
</div>
</div>
<h3>References</h3>
<div id="refs" class="references">
<div id="ref-capitalbikeshare">
<p>“Capital Bikeshare.” 2019. <a href="https://www.capitalbikeshare.com/" class="uri">https://www.capitalbikeshare.com/</a>.</p>
</div>
<div id="ref-imdb">
<p>“Internet Movie Database.” 2019. <a href="https://www.imdb.com/" class="uri">https://www.imdb.com/</a>.</p>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="2-instr.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="4-slr.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"download": ["intro-regression.pdf", "intro-regression.epub"],
"toc": {
"collapse": "section",
"toc_depth": 1,
"scroll_highlight": true
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
