<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title> 11 Multinomial Logistic Regression | Intro to Regression Analysis</title>
  <meta name="description" content="This document contains lab assignments and other materials for an intermediate-level regression course.">
  <meta name="generator" content="bookdown  and GitBook 2.6.7">

  <meta property="og:title" content=" 11 Multinomial Logistic Regression | Intro to Regression Analysis" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://www.introregression.org/" />
  
  <meta property="og:description" content="This document contains lab assignments and other materials for an intermediate-level regression course." />
  <meta name="github-repo" content="matackett/intro-regression" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content=" 11 Multinomial Logistic Regression | Intro to Regression Analysis" />
  
  <meta name="twitter:description" content="This document contains lab assignments and other materials for an intermediate-level regression course." />
  

<meta name="author" content="Maria Tackett">


<meta name="date" content="2019-05-13">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="10-logistic.html">
<link rel="next" href="12-together.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Materials for an Intro Regression Course</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="2-intro.html"><a href="2-intro.html"><i class="fa fa-check"></i><b>2</b> Introduction</a></li>
<li class="chapter" data-level="3" data-path="3-getstarted.html"><a href="3-getstarted.html"><i class="fa fa-check"></i><b>3</b> Getting Started</a></li>
<li class="part"><span><b>I Assignments</b></span></li>
<li class="chapter" data-level="4" data-path="4-intro-to-r.html"><a href="4-intro-to-r.html"><i class="fa fa-check"></i><b>4</b> Intro to R</a><ul>
<li class="chapter" data-level="4.1" data-path="4-intro-to-r.html"><a href="4-intro-to-r.html#introduction-1"><i class="fa fa-check"></i><b>4.1</b> Introduction</a><ul>
<li class="chapter" data-level="4.1.1" data-path="4-intro-to-r.html"><a href="4-intro-to-r.html#topics-covered-in-this-lab"><i class="fa fa-check"></i><b>4.1.1</b> Topics covered in this lab:</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="4-intro-to-r.html"><a href="4-intro-to-r.html#packages"><i class="fa fa-check"></i><b>4.2</b> Packages</a></li>
<li class="chapter" data-level="4.3" data-path="4-intro-to-r.html"><a href="4-intro-to-r.html#warm-up"><i class="fa fa-check"></i><b>4.3</b> Warm up</a></li>
<li class="chapter" data-level="4.4" data-path="4-intro-to-r.html"><a href="4-intro-to-r.html#project-name"><i class="fa fa-check"></i><b>4.4</b> Project name:</a><ul>
<li class="chapter" data-level="4.4.1" data-path="4-intro-to-r.html"><a href="4-intro-to-r.html#yaml"><i class="fa fa-check"></i><b>4.4.1</b> YAML:</a></li>
<li class="chapter" data-level="4.4.2" data-path="4-intro-to-r.html"><a href="4-intro-to-r.html#commiting-changes"><i class="fa fa-check"></i><b>4.4.2</b> Commiting changes:</a></li>
<li class="chapter" data-level="4.4.3" data-path="4-intro-to-r.html"><a href="4-intro-to-r.html#pushing-changes"><i class="fa fa-check"></i><b>4.4.3</b> Pushing changes:</a></li>
<li class="chapter" data-level="4.4.4" data-path="4-intro-to-r.html"><a href="4-intro-to-r.html#data"><i class="fa fa-check"></i><b>4.4.4</b> Data</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="4-intro-to-r.html"><a href="4-intro-to-r.html#exercises"><i class="fa fa-check"></i><b>4.5</b> Exercises</a><ul>
<li class="chapter" data-level="4.5.1" data-path="4-intro-to-r.html"><a href="4-intro-to-r.html#visualizing-your-data"><i class="fa fa-check"></i><b>4.5.1</b> Visualizing Your Data</a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="4-intro-to-r.html"><a href="4-intro-to-r.html#simple-linear-regression"><i class="fa fa-check"></i><b>4.6</b> Simple Linear Regression</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="5-slr.html"><a href="5-slr.html"><i class="fa fa-check"></i><b>5</b> Simple Linear Regression</a><ul>
<li class="chapter" data-level="5.0.1" data-path="5-slr.html"><a href="5-slr.html#packages-1"><i class="fa fa-check"></i><b>5.0.1</b> Packages</a></li>
<li class="chapter" data-level="5.0.2" data-path="5-slr.html"><a href="5-slr.html#project-name-1"><i class="fa fa-check"></i><b>5.0.2</b> Project name:</a></li>
<li class="chapter" data-level="5.1" data-path="5-slr.html"><a href="5-slr.html#warm-up-1"><i class="fa fa-check"></i><b>5.1</b> Warm up</a><ul>
<li class="chapter" data-level="5.1.1" data-path="5-slr.html"><a href="5-slr.html#yaml-1"><i class="fa fa-check"></i><b>5.1.1</b> YAML:</a></li>
<li class="chapter" data-level="5.1.2" data-path="5-slr.html"><a href="5-slr.html#commiting-and-pushing-changes"><i class="fa fa-check"></i><b>5.1.2</b> Commiting and pushing changes:</a></li>
<li class="chapter" data-level="5.1.3" data-path="5-slr.html"><a href="5-slr.html#pulling-changes"><i class="fa fa-check"></i><b>5.1.3</b> Pulling changes:</a></li>
<li class="chapter" data-level="5.1.4" data-path="5-slr.html"><a href="5-slr.html#data-1"><i class="fa fa-check"></i><b>5.1.4</b> Data</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="5-slr.html"><a href="5-slr.html#exercises-1"><i class="fa fa-check"></i><b>5.2</b> Exercises</a><ul>
<li class="chapter" data-level="5.2.1" data-path="5-slr.html"><a href="5-slr.html#exploratory-data-analysis"><i class="fa fa-check"></i><b>5.2.1</b> Exploratory Data Analysis</a></li>
<li class="chapter" data-level="5.2.2" data-path="5-slr.html"><a href="5-slr.html#simple-linear-regression-1"><i class="fa fa-check"></i><b>5.2.2</b> Simple Linear Regression</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="6-anova.html"><a href="6-anova.html"><i class="fa fa-check"></i><b>6</b> ANOVA</a><ul>
<li class="chapter" data-level="6.0.1" data-path="6-anova.html"><a href="6-anova.html#packages-2"><i class="fa fa-check"></i><b>6.0.1</b> Packages</a></li>
<li class="chapter" data-level="6.0.2" data-path="6-anova.html"><a href="6-anova.html#data-2"><i class="fa fa-check"></i><b>6.0.2</b> Data</a></li>
<li class="chapter" data-level="6.1" data-path="6-anova.html"><a href="6-anova.html#exercises-2"><i class="fa fa-check"></i><b>6.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="7-mlr.html"><a href="7-mlr.html"><i class="fa fa-check"></i><b>7</b> Multiple Linear Regression</a><ul>
<li class="chapter" data-level="7.0.1" data-path="7-mlr.html"><a href="7-mlr.html#packages-3"><i class="fa fa-check"></i><b>7.0.1</b> Packages</a></li>
<li class="chapter" data-level="7.0.2" data-path="7-mlr.html"><a href="7-mlr.html#data-3"><i class="fa fa-check"></i><b>7.0.2</b> Data</a></li>
<li class="chapter" data-level="7.1" data-path="7-mlr.html"><a href="7-mlr.html#exercises-3"><i class="fa fa-check"></i><b>7.1</b> Exercises</a><ul>
<li class="chapter" data-level="7.1.1" data-path="7-mlr.html"><a href="7-mlr.html#acknowledgement"><i class="fa fa-check"></i><b>7.1.1</b> Acknowledgement</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="8-mlr2.html"><a href="8-mlr2.html"><i class="fa fa-check"></i><b>8</b> Data Wrangling &amp; Multiple Linear Regression</a><ul>
<li class="chapter" data-level="8.0.1" data-path="8-mlr2.html"><a href="8-mlr2.html#packages-4"><i class="fa fa-check"></i><b>8.0.1</b> Packages</a></li>
<li class="chapter" data-level="8.0.2" data-path="8-mlr2.html"><a href="8-mlr2.html#data-4"><i class="fa fa-check"></i><b>8.0.2</b> Data</a></li>
<li class="chapter" data-level="8.1" data-path="8-mlr2.html"><a href="8-mlr2.html#exercises-4"><i class="fa fa-check"></i><b>8.1</b> Exercises</a><ul>
<li class="chapter" data-level="8.1.1" data-path="8-mlr2.html"><a href="8-mlr2.html#data-wrangling"><i class="fa fa-check"></i><b>8.1.1</b> Data wrangling</a></li>
<li class="chapter" data-level="8.1.2" data-path="8-mlr2.html"><a href="8-mlr2.html#regression-analysis"><i class="fa fa-check"></i><b>8.1.2</b> Regression Analysis</a></li>
<li class="chapter" data-level="8.1.3" data-path="8-mlr2.html"><a href="8-mlr2.html#acknowledgement-1"><i class="fa fa-check"></i><b>8.1.3</b> Acknowledgement</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="9-selection.html"><a href="9-selection.html"><i class="fa fa-check"></i><b>9</b> Model Selection</a><ul>
<li class="chapter" data-level="9.0.1" data-path="9-selection.html"><a href="9-selection.html#packages-5"><i class="fa fa-check"></i><b>9.0.1</b> Packages</a></li>
<li class="chapter" data-level="9.0.2" data-path="9-selection.html"><a href="9-selection.html#data-5"><i class="fa fa-check"></i><b>9.0.2</b> Data</a></li>
<li class="chapter" data-level="9.1" data-path="9-selection.html"><a href="9-selection.html#exercises-5"><i class="fa fa-check"></i><b>9.1</b> Exercises</a><ul>
<li class="chapter" data-level="9.1.1" data-path="9-selection.html"><a href="9-selection.html#part-i-1"><i class="fa fa-check"></i><b>9.1.1</b> Part I</a></li>
<li class="chapter" data-level="9.1.2" data-path="9-selection.html"><a href="9-selection.html#part-ii-1"><i class="fa fa-check"></i><b>9.1.2</b> Part II</a></li>
<li class="chapter" data-level="9.1.3" data-path="9-selection.html"><a href="9-selection.html#acknowledgements"><i class="fa fa-check"></i><b>9.1.3</b> Acknowledgements</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="10-logistic.html"><a href="10-logistic.html"><i class="fa fa-check"></i><b>10</b> Logistic Regression</a><ul>
<li class="chapter" data-level="10.0.1" data-path="10-logistic.html"><a href="10-logistic.html#packages-6"><i class="fa fa-check"></i><b>10.0.1</b> Packages</a></li>
<li class="chapter" data-level="10.0.2" data-path="10-logistic.html"><a href="10-logistic.html#data-6"><i class="fa fa-check"></i><b>10.0.2</b> Data</a></li>
<li class="chapter" data-level="10.1" data-path="10-logistic.html"><a href="10-logistic.html#exercises-6"><i class="fa fa-check"></i><b>10.1</b> Exercises</a><ul>
<li class="chapter" data-level="10.1.1" data-path="10-logistic.html"><a href="10-logistic.html#exploratory-data-analysis-1"><i class="fa fa-check"></i><b>10.1.1</b> Exploratory Data Analysis</a></li>
<li class="chapter" data-level="10.1.2" data-path="10-logistic.html"><a href="10-logistic.html#part-ii-logistic-regression-model"><i class="fa fa-check"></i><b>10.1.2</b> Part II: Logistic Regression Model</a></li>
<li class="chapter" data-level="10.1.3" data-path="10-logistic.html"><a href="10-logistic.html#part-iii-model-assessment"><i class="fa fa-check"></i><b>10.1.3</b> Part III: Model Assessment</a></li>
<li class="chapter" data-level="10.1.4" data-path="10-logistic.html"><a href="10-logistic.html#part-iv-prediction"><i class="fa fa-check"></i><b>10.1.4</b> Part IV: Prediction</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="11-multinom-logistic.html"><a href="11-multinom-logistic.html"><i class="fa fa-check"></i><b>11</b> Multinomial Logistic Regression</a><ul>
<li class="chapter" data-level="11.0.1" data-path="11-multinom-logistic.html"><a href="11-multinom-logistic.html#packages-7"><i class="fa fa-check"></i><b>11.0.1</b> Packages</a></li>
<li class="chapter" data-level="11.0.2" data-path="11-multinom-logistic.html"><a href="11-multinom-logistic.html#data-7"><i class="fa fa-check"></i><b>11.0.2</b> Data</a></li>
<li class="chapter" data-level="11.1" data-path="11-multinom-logistic.html"><a href="11-multinom-logistic.html#exercises-7"><i class="fa fa-check"></i><b>11.1</b> Exercises</a><ul>
<li class="chapter" data-level="11.1.1" data-path="11-multinom-logistic.html"><a href="11-multinom-logistic.html#part-i-exploratory-data-analysis"><i class="fa fa-check"></i><b>11.1.1</b> Part I: Exploratory Data Analysis</a></li>
<li class="chapter" data-level="11.1.2" data-path="11-multinom-logistic.html"><a href="11-multinom-logistic.html#part-ii-multinomial-logistic-regression-model"><i class="fa fa-check"></i><b>11.1.2</b> Part II: Multinomial Logistic Regression Model</a></li>
<li class="chapter" data-level="11.1.3" data-path="11-multinom-logistic.html"><a href="11-multinom-logistic.html#part-iii-model-fit"><i class="fa fa-check"></i><b>11.1.3</b> Part III: Model Fit</a></li>
<li class="chapter" data-level="11.1.4" data-path="11-multinom-logistic.html"><a href="11-multinom-logistic.html#part-iv-using-the-model"><i class="fa fa-check"></i><b>11.1.4</b> Part IV: Using the Model</a></li>
<li class="chapter" data-level="11.1.5" data-path="11-multinom-logistic.html"><a href="11-multinom-logistic.html#acknowledgements-1"><i class="fa fa-check"></i><b>11.1.5</b> Acknowledgements</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="12-together.html"><a href="12-together.html"><i class="fa fa-check"></i><b>12</b> Putting It All Together</a><ul>
<li class="chapter" data-level="12.0.1" data-path="12-together.html"><a href="12-together.html#packages-8"><i class="fa fa-check"></i><b>12.0.1</b> Packages</a></li>
<li class="chapter" data-level="12.0.2" data-path="12-together.html"><a href="12-together.html#data-8"><i class="fa fa-check"></i><b>12.0.2</b> Data</a></li>
<li class="chapter" data-level="12.0.3" data-path="12-together.html"><a href="12-together.html#exercises-8"><i class="fa fa-check"></i><b>12.0.3</b> Exercises</a></li>
</ul></li>
<li class="part"><span><b>II Math Notes</b></span></li>
<li class="chapter" data-level="13" data-path="13-matrix-form-of-linear-regression.html"><a href="13-matrix-form-of-linear-regression.html"><i class="fa fa-check"></i><b>13</b> Matrix Form of Linear Regression</a><ul>
<li class="chapter" data-level="13.1" data-path="13-matrix-form-of-linear-regression.html"><a href="13-matrix-form-of-linear-regression.html#introduction-2"><i class="fa fa-check"></i><b>13.1</b> Introduction</a></li>
<li class="chapter" data-level="13.2" data-path="13-matrix-form-of-linear-regression.html"><a href="13-matrix-form-of-linear-regression.html#matrix-form-for-the-regression-model"><i class="fa fa-check"></i><b>13.2</b> Matrix Form for the Regression Model</a></li>
<li class="chapter" data-level="13.3" data-path="13-matrix-form-of-linear-regression.html"><a href="13-matrix-form-of-linear-regression.html#estimating-the-coefficients"><i class="fa fa-check"></i><b>13.3</b> Estimating the Coefficients</a></li>
<li class="chapter" data-level="13.4" data-path="13-matrix-form-of-linear-regression.html"><a href="13-matrix-form-of-linear-regression.html#variance-covariance-matrix-of-the-coefficients"><i class="fa fa-check"></i><b>13.4</b> Variance-covariance matrix of the coefficients</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="14-log-transformations-in-linear-regression.html"><a href="14-log-transformations-in-linear-regression.html"><i class="fa fa-check"></i><b>14</b> “Log Transformations in Linear Regression”</a><ul>
<li class="chapter" data-level="14.1" data-path="14-log-transformations-in-linear-regression.html"><a href="14-log-transformations-in-linear-regression.html#log-transformation-on-the-response-variable"><i class="fa fa-check"></i><b>14.1</b> Log-transformation on the response variable</a><ul>
<li class="chapter" data-level="14.1.1" data-path="14-log-transformations-in-linear-regression.html"><a href="14-log-transformations-in-linear-regression.html#mean-median-and-log-transformations"><i class="fa fa-check"></i><b>14.1.1</b> Mean, Median, and Log Transformations</a></li>
<li class="chapter" data-level="14.1.2" data-path="14-log-transformations-in-linear-regression.html"><a href="14-log-transformations-in-linear-regression.html#interpretaton-of-model-coefficients"><i class="fa fa-check"></i><b>14.1.2</b> Interpretaton of model coefficients</a></li>
</ul></li>
<li class="chapter" data-level="14.2" data-path="14-log-transformations-in-linear-regression.html"><a href="14-log-transformations-in-linear-regression.html#log-transformation-on-the-predictor-variable"><i class="fa fa-check"></i><b>14.2</b> Log-transformation on the predictor variable</a></li>
<li class="chapter" data-level="14.3" data-path="14-log-transformations-in-linear-regression.html"><a href="14-log-transformations-in-linear-regression.html#log-transformation-on-the-the-response-and-predictor-variable"><i class="fa fa-check"></i><b>14.3</b> Log-transformation on the the response and predictor variable</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="15-details-about-model-diagnostics.html"><a href="15-details-about-model-diagnostics.html"><i class="fa fa-check"></i><b>15</b> Details about Model Diagnostics</a><ul>
<li class="chapter" data-level="15.1" data-path="15-details-about-model-diagnostics.html"><a href="15-details-about-model-diagnostics.html#introduction-3"><i class="fa fa-check"></i><b>15.1</b> Introduction</a></li>
<li class="chapter" data-level="15.2" data-path="15-details-about-model-diagnostics.html"><a href="15-details-about-model-diagnostics.html#matrix-form-for-the-regression-model-1"><i class="fa fa-check"></i><b>15.2</b> Matrix Form for the Regression Model</a></li>
<li class="chapter" data-level="15.3" data-path="15-details-about-model-diagnostics.html"><a href="15-details-about-model-diagnostics.html#hat-matrix-leverage"><i class="fa fa-check"></i><b>15.3</b> Hat Matrix &amp; Leverage</a></li>
<li class="chapter" data-level="15.4" data-path="15-details-about-model-diagnostics.html"><a href="15-details-about-model-diagnostics.html#standardized-residuals"><i class="fa fa-check"></i><b>15.4</b> Standardized Residuals</a></li>
<li class="chapter" data-level="15.5" data-path="15-details-about-model-diagnostics.html"><a href="15-details-about-model-diagnostics.html#cooks-distance"><i class="fa fa-check"></i><b>15.5</b> Cook’s Distance</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="16-model-selection-criteria-aic-bic.html"><a href="16-model-selection-criteria-aic-bic.html"><i class="fa fa-check"></i><b>16</b> Model Selection Criteria: AIC &amp; BIC</a><ul>
<li class="chapter" data-level="16.1" data-path="16-model-selection-criteria-aic-bic.html"><a href="16-model-selection-criteria-aic-bic.html#maximum-likelihood-estimation-of-boldsymbolbeta-and-sigma"><i class="fa fa-check"></i><b>16.1</b> Maximum Likelihood Estimation of <span class="math inline">\(\boldsymbol{\beta}\)</span> and <span class="math inline">\(\sigma\)</span></a></li>
<li class="chapter" data-level="16.2" data-path="16-model-selection-criteria-aic-bic.html"><a href="16-model-selection-criteria-aic-bic.html#aic"><i class="fa fa-check"></i><b>16.2</b> AIC</a></li>
<li class="chapter" data-level="16.3" data-path="16-model-selection-criteria-aic-bic.html"><a href="16-model-selection-criteria-aic-bic.html#bic"><i class="fa fa-check"></i><b>16.3</b> BIC</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Intro to Regression Analysis</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="multinom-logistic" class="section level1">
<h1><span class="header-section-number"> 11</span> Multinomial Logistic Regression</h1>
<p>The General Social Survey (GSS) has been used to measure trends in attitudes and behaviors in American society since 1972. In addition to collecting demographic information, the survey includes questions used to gauge attitudes about government spending priorities, confidence in institutions, lifestyle, and many other topics. A full description of the survey may be found <a href="http://www.norc.org/Research/Projects/Pages/general-social-survey.aspx">here</a>.</p>
<p>In today’s lab, we will use multinomial logistic regression to understand the relationship between a person’s political views and their attitudes towards government spending on mass transportation projects. To do so, we will use data from the 2010 GSS survey. Refer to the <a href="https://www2.stat.duke.edu/courses/Spring19/sta210.001/slides/lec-slides/18-multinomial-logistic-pt2.html#1">Multinomial Logistic Regression notes</a> for help with concepts and code.</p>
<div id="packages-7" class="section level3">
<h3><span class="header-section-number">11.0.1</span> Packages</h3>
<p>You will need the following packages for today’s lab:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(tidyverse)
<span class="kw">library</span>(nnet)
<span class="kw">library</span>(knitr)
<span class="kw">library</span>(broom)
## Fill in other packages as needed</code></pre></div>
</div>
<div id="data-7" class="section level3">
<h3><span class="header-section-number">11.0.2</span> Data</h3>
<p>The data for this lab is from the 2016 General Social Survey. The original data set contains 2867 observations and 935 variables. Given the size of the dataset, we will handle it differently in our workflow than we’ve handled data in previous assignments.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># [Working with large files](https://help.github.com/en/articles/working-with-large-files)</span></code></pre></div>
<p>The size of this dataset is 34.3 MB. Compare that to the Spotify dataset from last weeks’ lab which was 149 KB (0.149 MB)! GitHub will not allow you to push files larger than 100 MB and will give you a warning when you push files as large as 50 MB. Though we could push the file we’re working with today to GitHub, it’s large enough that we’d still prefer not to.</p>
<p>You have may noticed that each repo contains a file called <code>.gitignore</code>. It contains a list of the files you don’t want commit or push to GitHub. If you look at the <code>.gitignore</code> file for today’s lab, you will notice that <code>gss2016.csv</code> is listed at the bottom.</p>
<ul>
<li>Click <a href="https://www2.stat.duke.edu/courses/Spring19/sta210.001/labs/data/gss2016.csv"><strong>here</strong></a> to download <code>gss2016.csv</code>.</li>
<li>Upload <code>gss2016.csv</code> into the data folder of your project.</li>
<li>Notice that <code>gss2016.csv</code> does not appear in your Git pane. This is because it is being ignored by git, since it is listed in the <code>.gitignore</code> file.</li>
</ul>
<p>You will use the following variables in the lab:</p>
<ul>
<li><p><code>natmass</code>: Respondent’s answer to the following prompt:</p>
<p>“We are faced with many problems in this country, none of which can be solved easily or inexpensively. I’m going to name some of these problems, and for each one I’d like you to tell me whether you think we’re spending too much money on it, too little money, or about the right amount…are we spending too much, too little, or about the right amount on mass transportation?”</p></li>
<li><code>age</code>: Age in years.</li>
<li><code>sex</code>: Sex recorded as <em>male</em> or <em>female</em></li>
<li><code>sei10</code>: Socioeconomic index from 0 to 100</li>
<li><code>region</code>: Region where interview took place</li>
<li><p><code>polviews</code>: Respondent’s answer to the following prompt:</p>
<p>“We hear a lot of talk these days about liberals and conservatives. I’m going to show you a seven-point scale on which the political views that people might hold are arranged from extremely liberal - point 1 - to extremely conservative - point 7. Where would you place yourself on this scale?”</p></li>
</ul>
<p>Use the code below to read in the data.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">gss &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="st">&quot;data/gss2016.csv&quot;</span>,
  <span class="dt">na =</span> <span class="kw">c</span>(<span class="st">&quot;&quot;</span>, <span class="st">&quot;Don&#39;t know&quot;</span>, <span class="st">&quot;No answer&quot;</span>, 
         <span class="st">&quot;Not applicable&quot;</span>), 
         <span class="dt">guess_max =</span> <span class="dv">2867</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">select</span>(natmass, age, sex, sei10, region, polviews) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">drop_na</span>()</code></pre></div>
<p>The argument <code>guess_max = 2867</code> tells the <code>read_csv</code> function to use all of the observations in a column to determine its data type. Without this argument, only the first 1,000 observations would be used to make this determination. This becomes important for a variable like <code>age</code>; though <code>age</code> is coded as numeric data for most of the observations, there are some in which <code>age</code> is coded as <code>&quot;89 or older&quot;</code>. Without the <code>guess_max</code> argument, you will get warnings when loading the data.</p>
<p>Note also that only the variables of interest will be loaded, not the entire dataset. This will make for faster computation and knitting as you work on the lab.</p>
</div>
<div id="exercises-7" class="section level2">
<h2><span class="header-section-number">11.1</span> Exercises</h2>
<div id="part-i-exploratory-data-analysis" class="section level3">
<h3><span class="header-section-number">11.1.1</span> Part I: Exploratory Data Analysis</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># See [Reorder factor levels by hand](https://forcats.tidyverse.org/reference/fct_relevel.html) for documentation about `fct_relevel`.</span></code></pre></div>
<ol style="list-style-type: decimal">
<li><p>The variable <code>natmass</code> will be the response variable in the model, and you want to compare more opinionated views to the moderate position. Recode <code>natmass</code> so it is a factor variable with <code>&quot;About right&quot;</code> as the baseline.</p></li>
<li><p>Recode <code>polviews</code> so it is a factor variable type with levels that are in an order that is consistent with question on the survey. <em>Note how the categories are spelled in the data.</em></p></li>
</ol>
<p>Make a plot of the distribution of <code>polviews</code>. Which political view occurs most frequently in this data set?</p>
<ol start="3" style="list-style-type: decimal">
<li><p>Make a plot displaying the relationship between <code>natmass</code> and <code>polviews</code>. Use the plot to describe the relationship between a person’s political views and their views on mass transportation spending.</p></li>
<li><p>You want to use <code>age</code> as a quantitative variable in your model; however, it is currently a character data type because some observations are coded as <code>&quot;89 or older&quot;</code>. Recode <code>age</code> so that is a numeric variable. <em>Note: Before making the variable numeric, you will need to replace the values <code>&quot;89 or older&quot;</code> with a single value.</em></p></li>
</ol>
</div>
<div id="part-ii-multinomial-logistic-regression-model" class="section level3">
<h3><span class="header-section-number">11.1.2</span> Part II: Multinomial Logistic Regression Model</h3>
<ol start="5" style="list-style-type: decimal">
<li><p>You plan to fit a model using <code>age</code>, <code>sex</code>, <code>sei10</code>, and <code>region</code> to understand variation in opinions about spending on mass transportation. Briefly explain why you should fit a multinomial logistic model.</p></li>
<li><p>Fit the model described in the previous exercise and display the model output. Make any necessary adjustments to the variables so the intercept will have a meaningful interpretation. Be sure <code>About Right</code> is the baseline level. Be sure the full model displays in the knitted document.</p></li>
<li><p>Interpret the intercept associated with <u>odds</u> of having an opinion of “Too much” versus “About right”.</p></li>
<li><p>Consider the relationship between age and one’s opinion about spending on mass transportation.</p>
<ul>
<li>Interpret the coefficient of age in terms of the <u>log odds</u> of having an opinion of “Too little” versus “About right”.</li>
<li>Interpret the coefficient of age in terms of the <u>odds</u> of having an opinion of “Too little” versus “About right”.</li>
</ul></li>
<li><p>In general, what is the relationship between an person’s age and their opinions on mass transportation spending?</p></li>
</ol>
<p>Now that you have adjusted for some demographic factors, let’s examine whether a person’s political views has a significant impact on their attitude towards spending on mass transportation.</p>
<ol start="10" style="list-style-type: decimal">
<li>Conduct the appropriate test to determine if <code>polviews</code> is a significant predictor of attitude towards spending on mass transportation. State the null and alternative hypothesis, display all relevant code and output, and state your conclusion in the context of the problem.</li>
</ol>
<p>Choose the appropriate model based on the results from the test. Use this model for the next part of the lab.</p>
</div>
<div id="part-iii-model-fit" class="section level3">
<h3><span class="header-section-number">11.1.3</span> Part III: Model Fit</h3>
<ol start="11" style="list-style-type: decimal">
<li><p>Calculate the predicted probabilities and residuals from your model.</p></li>
<li><p>Plot the binned residuals versus the predicted probabilities for each category of <code>natmass.</code> <em>You will have three plots.</em></p></li>
</ol>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># You can change the size of your plots, so you can fit multiple plots on a single page. Include the arguments `fig.height = ` and `fig.width = ` in the header of the code chunk to change the plot size. </span>

<span class="co"># See [Using R Markdown](https://rstudio.github.io/dygraphs/r-markdown.html) for an example.</span></code></pre></div>
<ol start="13" style="list-style-type: decimal">
<li><p>Use binned residual plots to examine the residuals versus each of the quantitative variables.</p>
<ul>
<li>Create binned plots of the residuals for each category of <code>natmass</code> versus <code>age</code>. <em>You will have three plots.</em></li>
<li>Create binned plots of the residuals for each category of <code>natmass</code> versus <code>sei10</code>. <em>You will have three plots.</em></li>
</ul></li>
<li><p>To examine the residuals versus each categorical predictor, you will look at the average residuals for each each category of the categorical variables.</p>
<ul>
<li>For each level of <code>natmass</code>, calculate the average residuals across categories of <code>sex</code>.</li>
<li>For each category of <code>natmass</code>, calculate the average residuals across categories of <code>region</code>.</li>
<li>For each category of <code>natmass</code>, calculate the average residuals across categories of <code>polviews</code>.</li>
</ul></li>
<li><p>Based on the analysis of the residuals in Exercises 12 - 14, is the model an appropriate fit for the data? Explain.</p></li>
</ol>
<p><em>Regardless of your asssesment of the residuals, use your model for the remainder of the lab.</em></p>
</div>
<div id="part-iv-using-the-model" class="section level3">
<h3><span class="header-section-number">11.1.4</span> Part IV: Using the Model</h3>
<ol start="16" style="list-style-type: decimal">
<li><p>Use your model to describe the relationship between one’s political views and their attitude towards spending on mass transportation.</p></li>
<li><p>Use your model to predict the category of <code>natmass</code> for each observation in your dataset. Display a table of the actual versus the predicted <code>natmass</code>. What is the misclassification rate?</p></li>
</ol>
</div>
<div id="acknowledgements-1" class="section level3">
<h3><span class="header-section-number">11.1.5</span> Acknowledgements</h3>
<p>The “Data” section is largely inspired by <a href="https://datasciencebox.org/">datasciencebox.org</a>.</p>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="10-logistic.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="12-together.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"download": ["introregression.pdf"],
"toc": {
"collapse": "section",
"scroll_highlight": true
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
