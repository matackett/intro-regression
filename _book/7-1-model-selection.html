<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>7.1 Model Selection | Intro Regression</title>
  <meta name="description" content="7.1 Model Selection | Intro Regression is an electronic book with assignments and in-class activities to help students apply concepts in an intermediate-level regression analysis course. The primary focus of this text is application and computing; there are supplemental mathematical notes in some chapters.">
  <meta name="generator" content="bookdown  and GitBook 2.6.7">

  <meta property="og:title" content="7.1 Model Selection | Intro Regression" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://www.introregression.org/" />
  
  <meta property="og:description" content="7.1 Model Selection | Intro Regression is an electronic book with assignments and in-class activities to help students apply concepts in an intermediate-level regression analysis course. The primary focus of this text is application and computing; there are supplemental mathematical notes in some chapters." />
  <meta name="github-repo" content="matackett/intro-regression" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="7.1 Model Selection | Intro Regression" />
  
  <meta name="twitter:description" content="7.1 Model Selection | Intro Regression is an electronic book with assignments and in-class activities to help students apply concepts in an intermediate-level regression analysis course. The primary focus of this text is application and computing; there are supplemental mathematical notes in some chapters." />
  

<meta name="author" content="Maria Tackett">


<meta name="date" content="2019-05-14">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="7-select.html">
<link rel="next" href="7-2-model-selection-1.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Intro Regression</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Welcome to Intro Regression!</a></li>
<li class="chapter" data-level="2" data-path="2-intro.html"><a href="2-intro.html"><i class="fa fa-check"></i><b>2</b> Introduction</a></li>
<li class="chapter" data-level="3" data-path="3-getstarted.html"><a href="3-getstarted.html"><i class="fa fa-check"></i><b>3</b> Getting Started</a></li>
<li class="chapter" data-level="4" data-path="4-slr.html"><a href="4-slr.html"><i class="fa fa-check"></i><b>4</b> Simple Linear Regression</a><ul>
<li class="chapter" data-level="4.1" data-path="4-1-computing-college-admissions.html"><a href="4-1-computing-college-admissions.html"><i class="fa fa-check"></i><b>4.1</b> Computing: College Admissions</a><ul>
<li class="chapter" data-level="4.1.1" data-path="4-1-computing-college-admissions.html"><a href="4-1-computing-college-admissions.html#packages"><i class="fa fa-check"></i><b>4.1.1</b> Packages</a></li>
<li class="chapter" data-level="4.1.2" data-path="4-1-computing-college-admissions.html"><a href="4-1-computing-college-admissions.html#data"><i class="fa fa-check"></i><b>4.1.2</b> Data</a></li>
<li class="chapter" data-level="4.1.3" data-path="4-1-computing-college-admissions.html"><a href="4-1-computing-college-admissions.html#exercises"><i class="fa fa-check"></i><b>4.1.3</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="4-2-in-class-exercise-advertising-analysis.html"><a href="4-2-in-class-exercise-advertising-analysis.html"><i class="fa fa-check"></i><b>4.2</b> In-Class Exercise: Advertising Analysis</a><ul>
<li class="chapter" data-level="4.2.1" data-path="4-2-in-class-exercise-advertising-analysis.html"><a href="4-2-in-class-exercise-advertising-analysis.html#data-and-packages"><i class="fa fa-check"></i><b>4.2.1</b> Data and packages</a></li>
<li class="chapter" data-level="4.2.2" data-path="4-2-in-class-exercise-advertising-analysis.html"><a href="4-2-in-class-exercise-advertising-analysis.html#analysis"><i class="fa fa-check"></i><b>4.2.2</b> Analysis</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="4-3-in-class-exercise-beer-data-analysis.html"><a href="4-3-in-class-exercise-beer-data-analysis.html"><i class="fa fa-check"></i><b>4.3</b> In-Class Exercise: Beer Data Analysis</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="5-anova.html"><a href="5-anova.html"><i class="fa fa-check"></i><b>5</b> Analysis of Variance</a><ul>
<li class="chapter" data-level="5.1" data-path="5-anova.html"><a href="5-anova.html#anova"><i class="fa fa-check"></i><b>5.1</b> ANOVA</a><ul>
<li class="chapter" data-level="5.1.1" data-path="5-1-anova.html"><a href="5-1-anova.html"><i class="fa fa-check"></i><b>5.1.1</b> Packages</a></li>
<li class="chapter" data-level="5.1.2" data-path="5-1-anova.html"><a href="5-1-anova.html#data-1"><i class="fa fa-check"></i><b>5.1.2</b> Data</a></li>
<li class="chapter" data-level="5.1.3" data-path="5-1-anova.html"><a href="5-1-anova.html#exercises-1"><i class="fa fa-check"></i><b>5.1.3</b> Exercises</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="6-mlr.html"><a href="6-mlr.html"><i class="fa fa-check"></i><b>6</b> Multiple Linear Regression</a><ul>
<li class="chapter" data-level="6.1" data-path="6-1-multiple-linear-regression.html"><a href="6-1-multiple-linear-regression.html"><i class="fa fa-check"></i><b>6.1</b> Multiple Linear Regression</a><ul>
<li class="chapter" data-level="6.1.1" data-path="6-1-multiple-linear-regression.html"><a href="6-1-multiple-linear-regression.html#packages-2"><i class="fa fa-check"></i><b>6.1.1</b> Packages</a></li>
<li class="chapter" data-level="6.1.2" data-path="6-1-multiple-linear-regression.html"><a href="6-1-multiple-linear-regression.html#data-2"><i class="fa fa-check"></i><b>6.1.2</b> Data</a></li>
<li class="chapter" data-level="6.1.3" data-path="6-1-multiple-linear-regression.html"><a href="6-1-multiple-linear-regression.html#exercises-2"><i class="fa fa-check"></i><b>6.1.3</b> Exercises</a></li>
<li class="chapter" data-level="6.1.4" data-path="6-1-multiple-linear-regression.html"><a href="6-1-multiple-linear-regression.html#acknowledgement"><i class="fa fa-check"></i><b>6.1.4</b> Acknowledgement</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="6-2-data-wrangling-multiple-linear-regression.html"><a href="6-2-data-wrangling-multiple-linear-regression.html"><i class="fa fa-check"></i><b>6.2</b> Data Wrangling &amp; Multiple Linear Regression</a><ul>
<li class="chapter" data-level="6.2.1" data-path="6-2-data-wrangling-multiple-linear-regression.html"><a href="6-2-data-wrangling-multiple-linear-regression.html#packages-3"><i class="fa fa-check"></i><b>6.2.1</b> Packages</a></li>
<li class="chapter" data-level="6.2.2" data-path="6-2-data-wrangling-multiple-linear-regression.html"><a href="6-2-data-wrangling-multiple-linear-regression.html#data-3"><i class="fa fa-check"></i><b>6.2.2</b> Data</a></li>
<li class="chapter" data-level="6.2.3" data-path="6-2-data-wrangling-multiple-linear-regression.html"><a href="6-2-data-wrangling-multiple-linear-regression.html#exercises-3"><i class="fa fa-check"></i><b>6.2.3</b> Exercises</a></li>
<li class="chapter" data-level="6.2.4" data-path="6-2-data-wrangling-multiple-linear-regression.html"><a href="6-2-data-wrangling-multiple-linear-regression.html#acknowledgement-1"><i class="fa fa-check"></i><b>6.2.4</b> Acknowledgement</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="6-3-analyzing-wages.html"><a href="6-3-analyzing-wages.html"><i class="fa fa-check"></i><b>6.3</b> Analyzing Wages</a><ul>
<li class="chapter" data-level="6.3.1" data-path="6-3-analyzing-wages.html"><a href="6-3-analyzing-wages.html#initial-model"><i class="fa fa-check"></i><b>6.3.1</b> Initial model</a></li>
<li class="chapter" data-level="6.3.2" data-path="6-3-analyzing-wages.html"><a href="6-3-analyzing-wages.html#model-with-mean-centered-variables"><i class="fa fa-check"></i><b>6.3.2</b> Model with mean-centered variables</a></li>
<li class="chapter" data-level="6.3.3" data-path="6-3-analyzing-wages.html"><a href="6-3-analyzing-wages.html#model-with-indicator-variables"><i class="fa fa-check"></i><b>6.3.3</b> Model with indicator variables</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="6-4-matrix-form-of-linear-regression.html"><a href="6-4-matrix-form-of-linear-regression.html"><i class="fa fa-check"></i><b>6.4</b> Matrix Form of Linear Regression</a><ul>
<li class="chapter" data-level="6.4.1" data-path="6-4-matrix-form-of-linear-regression.html"><a href="6-4-matrix-form-of-linear-regression.html#introduction"><i class="fa fa-check"></i><b>6.4.1</b> Introduction</a></li>
<li class="chapter" data-level="6.4.2" data-path="6-4-matrix-form-of-linear-regression.html"><a href="6-4-matrix-form-of-linear-regression.html#matrix-form-for-the-regression-model"><i class="fa fa-check"></i><b>6.4.2</b> Matrix Form for the Regression Model</a></li>
<li class="chapter" data-level="6.4.3" data-path="6-4-matrix-form-of-linear-regression.html"><a href="6-4-matrix-form-of-linear-regression.html#estimating-the-coefficients"><i class="fa fa-check"></i><b>6.4.3</b> Estimating the Coefficients</a></li>
<li class="chapter" data-level="6.4.4" data-path="6-4-matrix-form-of-linear-regression.html"><a href="6-4-matrix-form-of-linear-regression.html#variance-covariance-matrix-of-the-coefficients"><i class="fa fa-check"></i><b>6.4.4</b> Variance-covariance matrix of the coefficients</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="6-5-log-transformations-in-linear-regression.html"><a href="6-5-log-transformations-in-linear-regression.html"><i class="fa fa-check"></i><b>6.5</b> Log Transformations in Linear Regression</a><ul>
<li class="chapter" data-level="6.5.1" data-path="6-5-log-transformations-in-linear-regression.html"><a href="6-5-log-transformations-in-linear-regression.html#log-transformation-on-the-response-variable"><i class="fa fa-check"></i><b>6.5.1</b> Log-transformation on the response variable</a></li>
<li class="chapter" data-level="6.5.2" data-path="6-5-log-transformations-in-linear-regression.html"><a href="6-5-log-transformations-in-linear-regression.html#log-transformation-on-the-predictor-variable"><i class="fa fa-check"></i><b>6.5.2</b> Log-transformation on the predictor variable</a></li>
<li class="chapter" data-level="6.5.3" data-path="6-5-log-transformations-in-linear-regression.html"><a href="6-5-log-transformations-in-linear-regression.html#log-transformation-on-the-the-response-and-predictor-variable"><i class="fa fa-check"></i><b>6.5.3</b> Log-transformation on the the response and predictor variable</a></li>
</ul></li>
<li class="chapter" data-level="6.6" data-path="6-6-details-about-model-diagnostics.html"><a href="6-6-details-about-model-diagnostics.html"><i class="fa fa-check"></i><b>6.6</b> Details about Model Diagnostics</a><ul>
<li class="chapter" data-level="6.6.1" data-path="6-6-details-about-model-diagnostics.html"><a href="6-6-details-about-model-diagnostics.html#introduction-1"><i class="fa fa-check"></i><b>6.6.1</b> Introduction</a></li>
<li class="chapter" data-level="6.6.2" data-path="6-6-details-about-model-diagnostics.html"><a href="6-6-details-about-model-diagnostics.html#matrix-form-for-the-regression-model-1"><i class="fa fa-check"></i><b>6.6.2</b> Matrix Form for the Regression Model</a></li>
<li class="chapter" data-level="6.6.3" data-path="6-6-details-about-model-diagnostics.html"><a href="6-6-details-about-model-diagnostics.html#hat-matrix-leverage"><i class="fa fa-check"></i><b>6.6.3</b> Hat Matrix &amp; Leverage</a></li>
<li class="chapter" data-level="6.6.4" data-path="6-6-details-about-model-diagnostics.html"><a href="6-6-details-about-model-diagnostics.html#standardized-residuals"><i class="fa fa-check"></i><b>6.6.4</b> Standardized Residuals</a></li>
<li class="chapter" data-level="6.6.5" data-path="6-6-details-about-model-diagnostics.html"><a href="6-6-details-about-model-diagnostics.html#cooks-distance"><i class="fa fa-check"></i><b>6.6.5</b> Cook’s Distance</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="7-select.html"><a href="7-select.html"><i class="fa fa-check"></i><b>7</b> Model Selection</a><ul>
<li class="chapter" data-level="7.1" data-path="7-1-model-selection.html"><a href="7-1-model-selection.html"><i class="fa fa-check"></i><b>7.1</b> Model Selection</a><ul>
<li class="chapter" data-level="7.1.1" data-path="7-1-model-selection.html"><a href="7-1-model-selection.html#packages-4"><i class="fa fa-check"></i><b>7.1.1</b> Packages</a></li>
<li class="chapter" data-level="7.1.2" data-path="7-1-model-selection.html"><a href="7-1-model-selection.html#data-4"><i class="fa fa-check"></i><b>7.1.2</b> Data</a></li>
<li class="chapter" data-level="7.1.3" data-path="7-1-model-selection.html"><a href="7-1-model-selection.html#exercises-4"><i class="fa fa-check"></i><b>7.1.3</b> Exercises</a></li>
<li class="chapter" data-level="7.1.4" data-path="7-1-model-selection.html"><a href="7-1-model-selection.html#acknowledgements"><i class="fa fa-check"></i><b>7.1.4</b> Acknowledgements</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="7-2-model-selection-1.html"><a href="7-2-model-selection-1.html"><i class="fa fa-check"></i><b>7.2</b> Model Selection</a><ul>
<li class="chapter" data-level="7.2.1" data-path="7-2-model-selection-1.html"><a href="7-2-model-selection-1.html#backward-selection-manually"><i class="fa fa-check"></i><b>7.2.1</b> Backward selection “manually”</a></li>
<li class="chapter" data-level="7.2.2" data-path="7-2-model-selection-1.html"><a href="7-2-model-selection-1.html#backward-selection-using-regsubsets"><i class="fa fa-check"></i><b>7.2.2</b> Backward selection using regsubsets</a></li>
<li class="chapter" data-level="7.2.3" data-path="7-2-model-selection-1.html"><a href="7-2-model-selection-1.html#changing-selection-criteria"><i class="fa fa-check"></i><b>7.2.3</b> Changing selection criteria</a></li>
<li class="chapter" data-level="7.2.4" data-path="7-2-model-selection-1.html"><a href="7-2-model-selection-1.html#different-selection-procedure"><i class="fa fa-check"></i><b>7.2.4</b> Different selection procedure</a></li>
<li class="chapter" data-level="7.2.5" data-path="7-2-model-selection-1.html"><a href="7-2-model-selection-1.html#choosing-a-final-model"><i class="fa fa-check"></i><b>7.2.5</b> Choosing a final model</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="7-3-model-selection-criteria-aic-bic.html"><a href="7-3-model-selection-criteria-aic-bic.html"><i class="fa fa-check"></i><b>7.3</b> Model Selection Criteria: AIC &amp; BIC</a><ul>
<li class="chapter" data-level="7.3.1" data-path="7-3-model-selection-criteria-aic-bic.html"><a href="7-3-model-selection-criteria-aic-bic.html#maximum-likelihood-estimation-of-boldsymbolbeta-and-sigma"><i class="fa fa-check"></i><b>7.3.1</b> Maximum Likelihood Estimation of <span class="math inline">\(\boldsymbol{\beta}\)</span> and <span class="math inline">\(\sigma\)</span></a></li>
<li class="chapter" data-level="7.3.2" data-path="7-3-model-selection-criteria-aic-bic.html"><a href="7-3-model-selection-criteria-aic-bic.html#aic"><i class="fa fa-check"></i><b>7.3.2</b> AIC</a></li>
<li class="chapter" data-level="7.3.3" data-path="7-3-model-selection-criteria-aic-bic.html"><a href="7-3-model-selection-criteria-aic-bic.html#bic"><i class="fa fa-check"></i><b>7.3.3</b> BIC</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="8-logistic.html"><a href="8-logistic.html"><i class="fa fa-check"></i><b>8</b> Logistic Regression</a><ul>
<li class="chapter" data-level="8.1" data-path="8-1-logistic-regression.html"><a href="8-1-logistic-regression.html"><i class="fa fa-check"></i><b>8.1</b> Logistic Regression</a><ul>
<li class="chapter" data-level="8.1.1" data-path="8-1-logistic-regression.html"><a href="8-1-logistic-regression.html#packages-5"><i class="fa fa-check"></i><b>8.1.1</b> Packages</a></li>
<li class="chapter" data-level="8.1.2" data-path="8-1-logistic-regression.html"><a href="8-1-logistic-regression.html#data-5"><i class="fa fa-check"></i><b>8.1.2</b> Data</a></li>
<li class="chapter" data-level="8.1.3" data-path="8-1-logistic-regression.html"><a href="8-1-logistic-regression.html#exercises-5"><i class="fa fa-check"></i><b>8.1.3</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="8-2-logistic-regression-1.html"><a href="8-2-logistic-regression-1.html"><i class="fa fa-check"></i><b>8.2</b> Logistic Regression</a><ul>
<li class="chapter" data-level="8.2.1" data-path="8-2-logistic-regression-1.html"><a href="8-2-logistic-regression-1.html#references"><i class="fa fa-check"></i><b>8.2.1</b> References</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="9-multinom-logistic.html"><a href="9-multinom-logistic.html"><i class="fa fa-check"></i><b>9</b> Multinomial Logistic Regression</a><ul>
<li class="chapter" data-level="9.1" data-path="9-1-multinomial-logistic-regression.html"><a href="9-1-multinomial-logistic-regression.html"><i class="fa fa-check"></i><b>9.1</b> Multinomial Logistic Regression</a><ul>
<li class="chapter" data-level="9.1.1" data-path="9-1-multinomial-logistic-regression.html"><a href="9-1-multinomial-logistic-regression.html#packages-6"><i class="fa fa-check"></i><b>9.1.1</b> Packages</a></li>
<li class="chapter" data-level="9.1.2" data-path="9-1-multinomial-logistic-regression.html"><a href="9-1-multinomial-logistic-regression.html#data-6"><i class="fa fa-check"></i><b>9.1.2</b> Data</a></li>
<li class="chapter" data-level="9.1.3" data-path="9-1-multinomial-logistic-regression.html"><a href="9-1-multinomial-logistic-regression.html#exercises-6"><i class="fa fa-check"></i><b>9.1.3</b> Exercises</a></li>
<li class="chapter" data-level="9.1.4" data-path="9-1-multinomial-logistic-regression.html"><a href="9-1-multinomial-logistic-regression.html#acknowledgements-1"><i class="fa fa-check"></i><b>9.1.4</b> Acknowledgements</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="9-2-multinomial-logistic-regression-1.html"><a href="9-2-multinomial-logistic-regression-1.html"><i class="fa fa-check"></i><b>9.2</b> Multinomial Logistic Regression</a><ul>
<li class="chapter" data-level="9.2.1" data-path="9-2-multinomial-logistic-regression-1.html"><a href="9-2-multinomial-logistic-regression-1.html#questions"><i class="fa fa-check"></i><b>9.2.1</b> Questions</a></li>
<li class="chapter" data-level="9.2.2" data-path="9-2-multinomial-logistic-regression-1.html"><a href="9-2-multinomial-logistic-regression-1.html#references-1"><i class="fa fa-check"></i><b>9.2.2</b> References</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="10-special.html"><a href="10-special.html"><i class="fa fa-check"></i><b>10</b> Special Topics</a><ul>
<li class="chapter" data-level="10.1" data-path="10-1-putting-it-all-together.html"><a href="10-1-putting-it-all-together.html"><i class="fa fa-check"></i><b>10.1</b> Putting It All Together</a><ul>
<li class="chapter" data-level="10.1.1" data-path="10-1-putting-it-all-together.html"><a href="10-1-putting-it-all-together.html#packages-7"><i class="fa fa-check"></i><b>10.1.1</b> Packages</a></li>
<li class="chapter" data-level="10.1.2" data-path="10-1-putting-it-all-together.html"><a href="10-1-putting-it-all-together.html#data-7"><i class="fa fa-check"></i><b>10.1.2</b> Data</a></li>
<li class="chapter" data-level="10.1.3" data-path="10-1-putting-it-all-together.html"><a href="10-1-putting-it-all-together.html#exercises-7"><i class="fa fa-check"></i><b>10.1.3</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="10-2-dealing-with-missing-data.html"><a href="10-2-dealing-with-missing-data.html"><i class="fa fa-check"></i><b>10.2</b> Dealing with Missing Data</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="11-datasets.html"><a href="11-datasets.html"><i class="fa fa-check"></i><b>11</b> Data Sets</a></li>
<li class="chapter" data-level="12" data-path="12-refs.html"><a href="12-refs.html"><i class="fa fa-check"></i><b>12</b> References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Intro Regression</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="model-selection" class="section level2">
<h2><span class="header-section-number">7.1</span> Model Selection</h2>
<p>The goal of today’s lab is to practice forward and backward model selection. In addition to practice with model selection functions in R, you will manually conduct a backward selection procedure to better understand what occurs when you use model selection functions.</p>
<div id="packages-4" class="section level3">
<h3><span class="header-section-number">7.1.1</span> Packages</h3>
<p>You will need the following packages for today’s lab:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(tidyverse)
<span class="kw">library</span>(knitr)
<span class="kw">library</span>(broom)
<span class="kw">library</span>(leaps)
<span class="kw">library</span>(Sleuth3) <span class="co">#case1201 data</span>
<span class="kw">library</span>(ISLR) <span class="co">#Hitters data</span></code></pre></div>
</div>
<div id="data-4" class="section level3">
<h3><span class="header-section-number">7.1.2</span> Data</h3>
<p>There are two datasets for this lab.</p>
<div id="part-i" class="section level4">
<h4><span class="header-section-number">7.1.2.1</span> Part I</h4>
<p>The dataset for Part I contains the SAT score (out of 1600) and other variables that may be associated with SAT performance for each of the 50 states in the U.S. The data is based on test takers for the 1982 exam. The following variables are in the dataset:</p>
<ul>
<li><strong><code>SAT</code></strong>: average total SAT score</li>
<li><strong><code>State</code></strong>: U.S. State</li>
<li><strong><code>Takers</code></strong>: percentage of high school seniors who took exam</li>
<li><strong><code>Income</code></strong>: median income of families of test-takers ($ hundreds)</li>
<li><strong><code>Years</code></strong>: average number of years test-takers had formal education in social sciences, natural sciences, and humanities</li>
<li><strong><code>Public</code></strong>: percentage of test-takers who attended public high schools</li>
<li><strong><code>Expend</code></strong>: total state expenditure on high schools ($ hundreds per student)</li>
<li><strong><code>Rank</code></strong>: median percentile rank of test-takers within their high school classes</li>
</ul>
</div>
<div id="part-ii" class="section level4">
<h4><span class="header-section-number">7.1.2.2</span> Part II</h4>
<p>The dataset for Part II contains the performance statistics and salaries of Major League Baseball players in the 1986 and 1987 seasons. The data is in the <code>Hitters</code> dataset in the <code>ISLR</code> package. Type <code>?Hitters</code> in the console to see the variables names and their definitions.</p>
</div>
</div>
<div id="exercises-4" class="section level3">
<h3><span class="header-section-number">7.1.3</span> Exercises</h3>
<div id="part-i-1" class="section level4">
<h4><span class="header-section-number">7.1.3.1</span> Part I</h4>
<p>For the first part of the lab, you will return to the model selection activity you started in class using the SAT data. The data is in the <code>case1201</code> data frame in the <code>Sleuth3</code> package.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">sat_scores &lt;-<span class="st"> </span>case1201 <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">select</span>(<span class="op">-</span>State) </code></pre></div>
<ol style="list-style-type: decimal">
<li>Manually perform backward selection using <span class="math inline">\(Adj. R^2\)</span> as the selection criterion. To help you get started, the full model and the code for the first set of models to test are below. Show each step of the selection process. Display the coefficients and <span class="math inline">\(Adj. R^2\)</span> of your final model.</li>
</ol>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">full_model &lt;-<span class="st"> </span><span class="kw">lm</span>(SAT <span class="op">~</span><span class="st"> </span>., <span class="dt">data =</span> sat_scores)</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">m1 &lt;-<span class="st"> </span><span class="kw">lm</span>(SAT <span class="op">~</span><span class="st"> </span>Income <span class="op">+</span><span class="st"> </span>Years <span class="op">+</span><span class="st"> </span>Public <span class="op">+</span><span class="st"> </span>Expend <span class="op">+</span><span class="st"> </span>Rank, <span class="dt">data =</span> sat_scores)</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">m2 &lt;-<span class="st"> </span><span class="kw">lm</span>(SAT <span class="op">~</span><span class="st"> </span>Takers <span class="op">+</span><span class="st"> </span>Years <span class="op">+</span><span class="st"> </span>Public <span class="op">+</span><span class="st"> </span>Expend <span class="op">+</span><span class="st"> </span>Rank, <span class="dt">data =</span> sat_scores)</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">m3 &lt;-<span class="st"> </span><span class="kw">lm</span>(SAT <span class="op">~</span><span class="st"> </span>Takers <span class="op">+</span><span class="st"> </span>Income <span class="op">+</span><span class="st"> </span>Public <span class="op">+</span><span class="st"> </span>Expend <span class="op">+</span><span class="st"> </span>Rank, <span class="dt">data =</span> sat_scores)</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">m4 &lt;-<span class="st"> </span><span class="kw">lm</span>(SAT <span class="op">~</span><span class="st"> </span>Takers <span class="op">+</span><span class="st"> </span>Income <span class="op">+</span><span class="st"> </span>Years <span class="op">+</span><span class="st"> </span>Expend <span class="op">+</span><span class="st"> </span>Rank, <span class="dt">data =</span> sat_scores)</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">m5 &lt;-<span class="st"> </span><span class="kw">lm</span>(SAT <span class="op">~</span><span class="st"> </span>Takers <span class="op">+</span><span class="st"> </span>Income <span class="op">+</span><span class="st"> </span>Years <span class="op">+</span><span class="st"> </span>Public <span class="op">+</span><span class="st"> </span>Rank, <span class="dt">data =</span> sat_scores)</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">m6 &lt;-<span class="st"> </span><span class="kw">lm</span>(SAT <span class="op">~</span><span class="st"> </span>Takers <span class="op">+</span><span class="st"> </span>Income <span class="op">+</span><span class="st"> </span>Years <span class="op">+</span><span class="st"> </span>Public <span class="op">+</span><span class="st"> </span>Expend, <span class="dt">data =</span> sat_scores)</code></pre></div>
<ol start="2" style="list-style-type: decimal">
<li><p>What is the best 5-variable model? Display the model output.</p></li>
<li><p>Use the <code>regsubsets</code> function to perform backward selection. What is the final model when <span class="math inline">\(Adj. R^2\)</span> is the selection criterion? Display the coefficients and the <span class="math inline">\(Adj. R^2\)</span> of the final model. <em>This should be the same result you got in Exercise 1.</em></p></li>
<li><p>What is the final model when <span class="math inline">\(BIC\)</span> is the selection criterion? Display the coefficients and the <span class="math inline">\(BIC\)</span> of the final model.</p></li>
<li>Compare the final models selected by <span class="math inline">\(Adj. R^2\)</span> and <span class="math inline">\(BIC\)</span>.
<ul>
<li>Do the models have the same number of predictors? Briefly explain.</li>
<li>Are the same predictor variables in each model? Briefly explain.</li>
</ul></li>
<li><p>Consider the comparisons made in the previous exercise. Are these differences what you would expect given the selection criteria used? Briefly explain.</p></li>
</ol>
</div>
<div id="part-ii-1" class="section level4">
<h4><span class="header-section-number">7.1.3.2</span> Part II</h4>
<p>The data for this part of the lab is the <code>Hitters</code> dataset in the <code>ISLR</code> package. Your goal is to fit a regression model that uses the performance statistics of baseball players to predictor their salary. There are 19 potential predictor variables, so you will use the <code>regsubsets</code> function to conduct forward selection to choose a final model.</p>
<ol start="7" style="list-style-type: decimal">
<li><p>Read through the data dictionary for the <code>Hitters</code> dataset. You can access it by typing <code>?Hitters</code> in the console. What is the difference between the variables <code>HmRun</code> and <code>CHmRun</code>?</p></li>
<li><p>Some observations have missing values for <code>Salary</code>. Filter the data, so only observations that have values for <code>Salary</code> are included. You will use this filtered data for the remainder of the lab.</p></li>
<li><p>Fill in the code below to conduct forward selection and save the results in an object called <code>sel_summary</code> (selection summary).</p></li>
</ol>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># The `nvmax` option indicates the maximum-sized variable subsets to consider in the model selection.</span></code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">regfit_forward &lt;-<span class="st"> </span><span class="kw">regsubsets</span>(_______, ________, <span class="dt">method=</span><span class="st">&quot;forward&quot;</span>, <span class="dt">nvmax =</span> <span class="dv">19</span>)
sel_summary &lt;-<span class="st"> </span><span class="kw">summary</span>(_______)</code></pre></div>
<ol start="10" style="list-style-type: decimal">
<li>The object <code>sel_summary</code> contains the summary statistics for the best fit model containing <span class="math inline">\(k\)</span> predictors, where <span class="math inline">\(k = 1, \ldots, 19\)</span>. The object <code>sel_summary</code> is a list object, so it is cumbersome to extract the relevant summary statistics. Therefore, you can create a data frame called <code>summary_stats</code> such that each row represents the best fit model with <span class="math inline">\(k\)</span> predictors and each column is a summary statistic. For example, the second row contains the summary statistics of the best fit model that contains 2 variables.</li>
</ol>
<p>Fill in the code below to create the data frame <code>summary_stats</code> that includes the <span class="math inline">\(BIC\)</span>, <span class="math inline">\(R^2\)</span>, <span class="math inline">\(Adj. R^2\)</span>, and residual sum of squares (RSS) for each model in <code>sel_summary</code>. The data frame <code>summary_stats</code> will also include the column <code>np</code>, the number of predictors in the model represented on each row.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">summary_stats &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">bic =</span> sel_summary<span class="op">$</span>bic, 
                       <span class="dt">adjr2 =</span> _______, 
                       <span class="dt">rsq =</span> _______,
                       <span class="dt">rss =</span> _______) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">np =</span> <span class="kw">row_number</span>()) <span class="co">#number of variables</span></code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># See the [ggplot2 documentation](https://ggplot2.tidyverse.org/reference/geom_abline.html#arguments) for code to add a vertical line.</span></code></pre></div>
<ol start="11" style="list-style-type: decimal">
<li>Use the data in the <code>summary_stats</code> data frame to plot <span class="math inline">\(BIC\)</span> versus the number of predictors. Include a vertical line on your plot that shows the number of predictors for the overall final model you would select based on <span class="math inline">\(BIC\)</span>. Be sure your plot has clear and informative title and axes labels.
<ul>
<li>How does <span class="math inline">\(BIC\)</span> change as the number of predictors increases?</li>
<li>How many predictors are in the final model selected based on <span class="math inline">\(BIC\)</span>?</li>
</ul></li>
</ol>
<p><em>You can fill in the code below with either <code>max</code> or <code>min</code> to find the number of predictors in the final model selected based on <span class="math inline">\(BIC\)</span>.</em></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">np_bic &lt;-<span class="st"> </span>summary_stats <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">filter</span>(bic <span class="op">==</span><span class="st"> </span><span class="kw">_____</span>(bic)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">select</span>(np) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">pull</span>()</code></pre></div>
<ol start="12" style="list-style-type: decimal">
<li>Use the data in the <code>summary_stats</code> data frame to plot <span class="math inline">\(Adj. R^2\)</span> versus the number of predictors. Include a vertical line on your plot that shows the number of predictors for the final model you would select based on <span class="math inline">\(Adj. R^2\)</span>. Be sure your plot has clear and informative title and axes labels.
<ul>
<li>How does <span class="math inline">\(Adj. R^2\)</span> change as the number of predictors increases?</li>
<li>How many predictors are in the final model selected based on <span class="math inline">\(Adj. R^2\)</span>?</li>
</ul></li>
<li>Use the data in the <code>summary_stats</code> data frame to plot <span class="math inline">\(R^2\)</span> versus the number of predictors. Include a vertical line on your plot that shows the number of predictors for the final model selected based on <span class="math inline">\(R^2\)</span>. Be sure your plot has clear and informative title and axes labels.
<ul>
<li>How does <span class="math inline">\(R^2\)</span> change as the number of predictors increases?</li>
<li>How many predictors are in the final model selected based on <span class="math inline">\(R^2\)</span>?</li>
</ul></li>
<li><p>Should <span class="math inline">\(R^2\)</span> be used as a model selection criterion? Briefly explain why or why not using your answers to Exercises 11 - 13.</p></li>
<li><p>Choose a final model to predict a baseball player’s <code>Salary</code> from his performance statistics. Display the variables, their coefficients, and the summary statistics from the <code>summary_stats</code> data frame for this model.</p></li>
<li>Briefly explain why you chose the model in the previous exercise.
<ul>
<li>Which model selection criteria did you use (<span class="math inline">\(BIC\)</span>, <span class="math inline">\(Adj. R^2\)</span>, <span class="math inline">\(R^2\)</span>)? Why?</li>
<li>What other factors did you consider besides the value of the model selection criteria?</li>
</ul></li>
</ol>
</div>
</div>
<div id="acknowledgements" class="section level3">
<h3><span class="header-section-number">7.1.4</span> Acknowledgements</h3>
<p>Part II of this lab was inspired by Lab 6.5 in <a href="http://www-bcf.usc.edu/~gareth/ISL/">An Introduction to Statistical Learning</a> and <a href="https://www.andrew.cmu.edu/user/achoulde/95791/homework/homework3.html">Variable Selection in Regression</a>.</p>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="7-select.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="7-2-model-selection-1.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"download": ["intro-regression.pdf", "intro-regression.epub"],
"toc": {
"collapse": "section",
"toc_depth": 1,
"scroll_highlight": true
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
